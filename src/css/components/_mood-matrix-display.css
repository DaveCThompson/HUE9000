/* src/css/components/_mood-matrix-display.css */
/* Styles for the Mood Matrix Display, intended to be used within an LCD container like #hue-lcd-A */

/*
  The parent LCD element (e.g., #hue-lcd-A) should have:
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: stretch; 
  position: relative; 
  overflow: hidden;
  height: var(--hue-lcd-display-height);
  padding-left: var(--space-md);
  padding-right: var(--space-md);
  box-sizing: border-box;
*/

.mood-matrix-rows-wrapper {
    position: relative; 
    width: 100%;
    /* Height is set by JS to 2 * var(--mood-matrix-row-height) */
    /* This wrapper is centered by the parent LCD's flex properties */
    overflow: hidden; 
}

.mood-matrix-row {
    position: absolute; 
    left: 0; 
    width: 100%; 
    height: var(--mood-matrix-row-height);
    display: flex;
    align-items: center; 
    font-family: 'IBM Plex Mono', monospace;
    font-size: var(--lcd-content-font-size, 0.9em); 
    white-space: nowrap; 
    box-sizing: border-box; 
    /* GSAP controls y and opacity */
}

.mood-matrix-row .mood-value,
.mood-matrix-row .mood-label {
    transition: color var(--transition-duration-fast) ease, opacity var(--transition-duration-fast) ease;
    /* Default 'active' state color, L-reduction handled by oklch calc */
    /* Specific hue is applied via CSS custom properties by JS */
    opacity: 1;
}

.mood-matrix-row .mood-value {
    width: var(--mood-matrix-value-width); 
    text-align: right;
    font-variant-numeric: tabular-nums;
    color: oklch(
        calc(var(--mood-matrix-value-text-l, var(--lcd-active-text-l)) * (1 - var(--startup-L-reduction-factor, 0)))
        var(--mood-matrix-value-base-chroma, var(--mood-matrix-label-base-chroma, 0.08)) 
        var(--mood-value-specific-hue, var(--dynamic-lcd-hue)) 
        / var(--mood-matrix-value-text-a, var(--lcd-active-text-a))
    );
}

.mood-matrix-row .mood-spacer {
    width: var(--space-xs); 
    display: inline-block; 
    flex-shrink: 0;
}

.mood-matrix-row .mood-label {
    text-align: left;
    flex-grow: 1;
    overflow: hidden; 
    text-overflow: ellipsis;
    color: oklch(
        calc(var(--mood-matrix-label-text-l, var(--lcd-active-text-l)) * (1 - var(--startup-L-reduction-factor, 0)))
        var(--mood-matrix-label-base-chroma, 0.08) 
        var(--mood-label-specific-hue, var(--dynamic-lcd-hue)) 
        / var(--mood-matrix-label-text-a, var(--lcd-active-text-a))
    );
}

/* Text styling based on classes applied by JS (reflecting parent LCD state) */
.mood-matrix-row .text-is-unlit {
    opacity: 0 !important;
    color: transparent !important; 
}

.mood-matrix-row .text-is-dimly-lit.mood-value {
    color: oklch(
        calc(var(--lcd-dimly-lit-text-l) * (1 - var(--startup-L-reduction-factor, 0)))
        var(--mood-matrix-value-base-chroma, var(--mood-matrix-label-base-chroma, 0.08))
        var(--mood-value-specific-hue, var(--dynamic-lcd-hue))
        / var(--lcd-dimly-lit-text-a)
    );
    opacity: 1;
}
.mood-matrix-row .text-is-dimly-lit.mood-label {
    color: oklch(
        calc(var(--mood-matrix-label-text-l, var(--lcd-dimly-lit-text-l)) * (1 - var(--startup-L-reduction-factor, 0)))
        var(--mood-matrix-label-base-chroma, 0.08)
        var(--mood-label-specific-hue, var(--dynamic-lcd-hue))
        / var(--lcd-dimly-lit-text-a)
    );
    opacity: 1;
}

/* .text-is-active uses the default styling for .mood-value and .mood-label defined above */
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function We(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Fr(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ie={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$t={duration:.5,overwrite:!1,delay:0},On,de,q,ze=1e8,fe=1/ze,cn=Math.PI*2,Ws=cn/4,js=0,Lr=Math.sqrt,Xs=Math.cos,Ks=Math.sin,le=function(e){return typeof e=="string"},j=function(e){return typeof e=="function"},Ze=function(e){return typeof e=="number"},wn=function(e){return typeof e>"u"},$e=function(e){return typeof e=="object"},De=function(e){return e!==!1},xn=function(){return typeof window<"u"},Ai=function(e){return j(e)||le(e)},vr=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},pe=Array.isArray,dn=/(?:-?\.?\d|\.)+/gi,Mr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Rt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Qi=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Nr=/[+-]=-?[.\d]+/,Or=/[^,'"\[\]\s]+/gi,Zs=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Y,Ge,hn,Rn,Pe={},Oi={},wr,xr=function(e){return(Oi=qt(e,Pe))&&Te},Bn=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},di=function(e,t){return!t&&console.warn(e)},Rr=function(e,t){return e&&(Pe[e]=t)&&Oi&&(Oi[e]=t)||Pe},hi=function(){return 0},Qs={suppressEvents:!0,isStart:!0,kill:!1},Fi={suppressEvents:!0,kill:!1},Js={suppressEvents:!0},kn={},nt=[],fn={},Br,Ce={},Ji={},rr=30,Li=[],Gn="",Un=function(e){var t=e[0],i,n;if($e(t)||j(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=Li.length;n--&&!Li[n].targetTest(t););i=Li[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new os(e[n],i)))||e.splice(n,1);return e},Tt=function(e){return e._gsap||Un(Me(e))[0]._gsap},kr=function(e,t,i){return(i=e[t])&&j(i)?e[t]():wn(i)&&e.getAttribute&&e.getAttribute(t)||i},me=function(e,t){return(e=e.split(",")).forEach(t)||e},Z=function(e){return Math.round(e*1e5)/1e5||0},ie=function(e){return Math.round(e*1e7)/1e7||0},Ht=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},ea=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},wi=function(){var e=nt.length,t=nt.slice(0),i,n;for(fn={},nt.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Hn=function(e){return!!(e._initted||e._startAt||e.add)},Gr=function(e,t,i,n){nt.length&&!de&&wi(),e.render(t,i,!!(de&&t<0&&Hn(e))),nt.length&&!de&&wi()},Ur=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Or).length<2?t:le(e)?e.trim():e},Hr=function(e){return e},be=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ta=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},qt=function(e,t){for(var i in t)e[i]=t[i];return e},sr=function s(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=$e(t[i])?s(e[i]||(e[i]={}),t[i]):t[i]);return e},xi=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},si=function(e){var t=e.parent||Y,i=e.keyframes?ta(pe(e.keyframes)):be;if(De(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},ia=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},Vr=function(e,t,i,n,r){var a=e[n],o;if(r)for(o=t[r];a&&a[r]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=a,t.parent=t._dp=e,t},Yi=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=t._prev,a=t._next;r?r._next=a:e[i]===t&&(e[i]=a),a?a._prev=r:e[n]===t&&(e[n]=r),t._next=t._prev=t.parent=null},at=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ct=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},na=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},pn=function(e,t,i,n){return e._startAt&&(de?e._startAt.revert(Fi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},ra=function s(e){return!e||e._ts&&s(e.parent)},ar=function(e){return e._repeat?Yt(e._tTime,e=e.duration()+e._rDelay)*e:0},Yt=function(e,t){var i=Math.floor(e=ie(e/t));return e&&i===e?i-1:i},Ri=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Wi=function(e){return e._end=ie(e._start+(e._tDur/Math.abs(e._ts||e._rts||fe)||0))},ji=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ie(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Wi(e),i._dirty||Ct(i,e)),e},zr=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Ri(e.rawTime(),t),(!t._dur||Ti(0,t.totalDuration(),i)-t._tTime>fe)&&t.render(i,!0)),Ct(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-1e-8}},Ue=function(e,t,i,n){return t.parent&&at(t),t._start=ie((Ze(i)?i:i||e!==Y?Fe(e,i,t):e._time)+t._delay),t._end=ie(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Vr(e,t,"_first","_last",e._sort?"_start":0),gn(t)||(e._recent=t),n||zr(e,t),e._ts<0&&ji(e,e._tTime),e},$r=function(e,t){return(Pe.ScrollTrigger||Bn("scrollTrigger",t))&&Pe.ScrollTrigger.create(t,e)},qr=function(e,t,i,n,r){if(zn(e,t,r),!e._initted)return 1;if(!i&&e._pt&&!de&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Br!==ye.frame)return nt.push(e),e._lazy=[r,n],1},sa=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},gn=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},aa=function(e,t,i,n){var r=e.ratio,a=t<0||!t&&(!e._start&&sa(e)&&!(!e._initted&&gn(e))||(e._ts<0||e._dp._ts<0)&&!gn(e))?0:1,o=e._rDelay,u=0,l,c,d;if(o&&e._repeat&&(u=Ti(0,e._tDur,t),c=Yt(u,o),e._yoyo&&c&1&&(a=1-a),c!==Yt(e._tTime,o)&&(r=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==r||de||n||e._zTime===fe||!t&&e._zTime){if(!e._initted&&qr(e,t,n,i,u))return;for(d=e._zTime,e._zTime=t||(i?fe:0),i||(i=t&&!d),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=u,l=e._pt;l;)l.r(a,l.d),l=l._next;t<0&&pn(e,t,i,!0),e._onUpdate&&!i&&Ae(e,"onUpdate"),u&&e._repeat&&!i&&e.parent&&Ae(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&at(e,1),!i&&!de&&(Ae(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},oa=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},Wt=function(e,t,i,n){var r=e._repeat,a=ie(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=a/e._dur),e._dur=a,e._tDur=r?r<0?1e10:ie(a*(r+1)+e._rDelay*r):a,o>0&&!n&&ji(e,e._tTime=e._tDur*o),e.parent&&Wi(e),i||Ct(e.parent,e),e},or=function(e){return e instanceof ge?Ct(e):Wt(e,e._dur)},ua={_start:0,endTime:hi,totalDuration:hi},Fe=function s(e,t,i){var n=e.labels,r=e._recent||ua,a=e.duration()>=ze?r.endTime(!1):e._dur,o,u,l;return le(t)&&(isNaN(t)||t in n)?(u=t.charAt(0),l=t.substr(-1)==="%",o=t.indexOf("="),u==="<"||u===">"?(o>=0&&(t=t.replace(/=/,"")),(u==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(o<0?r:i).totalDuration()/100:1)):o<0?(t in n||(n[t]=a),n[t]):(u=parseFloat(t.charAt(o-1)+t.substr(o+1)),l&&i&&(u=u/100*(pe(i)?i[0]:i).totalDuration()),o>1?s(e,t.substr(0,o-1),i)+u:a+u)):t==null?a:+t},ai=function(e,t,i){var n=Ze(t[1]),r=(n?2:1)+(e<2?0:1),a=t[r],o,u;if(n&&(a.duration=t[1]),a.parent=i,e){for(o=a,u=i;u&&!("immediateRender"in o);)o=u.vars.defaults||{},u=De(u.vars.inherit)&&u.parent;a.immediateRender=De(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[r-1]}return new te(t[0],a,t[r+1])},ct=function(e,t){return e||e===0?t(e):t},Ti=function(e,t,i){return i<e?e:i>t?t:i},he=function(e,t){return!le(e)||!(t=Zs.exec(e))?"":t[1]},la=function(e,t,i){return ct(i,function(n){return Ti(e,t,n)})},_n=[].slice,Yr=function(e,t){return e&&$e(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&$e(e[0]))&&!e.nodeType&&e!==Ge},ca=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var r;return le(n)&&!t||Yr(n,1)?(r=i).push.apply(r,Me(n)):i.push(n)})||i},Me=function(e,t,i){return q&&!t&&q.selector?q.selector(e):le(e)&&!i&&(hn||!jt())?_n.call((t||Rn).querySelectorAll(e),0):pe(e)?ca(e,i):Yr(e)?_n.call(e,0):e?[e]:[]},Dn=function(e){return e=Me(e)[0]||di("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Me(t,i.querySelectorAll?i:i===e?di("Invalid scope")||Rn.createElement("div"):e)}},Wr=function(e){return e.sort(function(){return .5-Math.random()})},jr=function(e){if(j(e))return e;var t=$e(e)?e:{each:e},i=yt(t.ease),n=t.from||0,r=parseFloat(t.base)||0,a={},o=n>0&&n<1,u=isNaN(n)||o,l=t.axis,c=n,d=n;return le(n)?c=d={center:.5,edges:.5,end:1}[n]||0:!o&&u&&(c=n[0],d=n[1]),function(p,f,g){var h=(g||t).length,_=a[h],D,m,S,T,E,A,I,P,C;if(!_){if(C=t.grid==="auto"?0:(t.grid||[1,ze])[1],!C){for(I=-1e8;I<(I=g[C++].getBoundingClientRect().left)&&C<h;);C<h&&C--}for(_=a[h]=[],D=u?Math.min(C,h)*c-.5:n%C,m=C===ze?0:u?h*d/C-.5:n/C|0,I=0,P=ze,A=0;A<h;A++)S=A%C-D,T=m-(A/C|0),_[A]=E=l?Math.abs(l==="y"?T:S):Lr(S*S+T*T),E>I&&(I=E),E<P&&(P=E);n==="random"&&Wr(_),_.max=I-P,_.min=P,_.v=h=(parseFloat(t.amount)||parseFloat(t.each)*(C>h?h-1:l?l==="y"?h/C:C:Math.max(C,h/C))||0)*(n==="edges"?-1:1),_.b=h<0?r-h:r,_.u=he(t.amount||t.each)||0,i=i&&h<0?rs(i):i}return h=(_[p]-_.min)/_.max||0,ie(_.b+(i?i(h):h)*_.v)+_.u}},mn=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=ie(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(Ze(i)?0:he(i))}},Xr=function(e,t){var i=pe(e),n,r;return!i&&$e(e)&&(n=i=e.radius||ze,e.values?(e=Me(e.values),(r=!Ze(e[0]))&&(n*=n)):e=mn(e.increment)),ct(t,i?j(e)?function(a){return r=e(a),Math.abs(r-a)<=n?r:a}:function(a){for(var o=parseFloat(r?a.x:a),u=parseFloat(r?a.y:0),l=ze,c=0,d=e.length,p,f;d--;)r?(p=e[d].x-o,f=e[d].y-u,p=p*p+f*f):p=Math.abs(e[d]-o),p<l&&(l=p,c=d);return c=!n||l<=n?e[c]:a,r||c===a||Ze(a)?c:c+he(a)}:mn(e))},Kr=function(e,t,i,n){return ct(pe(e)?!t:i===!0?!!(i=0):!n,function(){return pe(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},da=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(r,a){return a(r)},n)}},ha=function(e,t){return function(i){return e(parseFloat(i))+(t||he(i))}},fa=function(e,t,i){return Qr(e,t,0,1,i)},Zr=function(e,t,i){return ct(i,function(n){return e[~~t(n)]})},pa=function s(e,t,i){var n=t-e;return pe(e)?Zr(e,s(0,e.length),t):ct(i,function(r){return(n+(r-e)%n)%n+e})},ga=function s(e,t,i){var n=t-e,r=n*2;return pe(e)?Zr(e,s(0,e.length-1),t):ct(i,function(a){return a=(r+(a-e)%r)%r||0,e+(a>n?r-a:a)})},fi=function(e){for(var t=0,i="",n,r,a,o;~(n=e.indexOf("random(",t));)a=e.indexOf(")",n),o=e.charAt(n+7)==="[",r=e.substr(n+7,a-n-7).match(o?Or:dn),i+=e.substr(t,n-t)+Kr(o?r:+r[0],o?0:+r[1],+r[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},Qr=function(e,t,i,n,r){var a=t-e,o=n-i;return ct(r,function(u){return i+((u-e)/a*o||0)})},_a=function s(e,t,i,n){var r=isNaN(e+t)?0:function(f){return(1-f)*e+f*t};if(!r){var a=le(e),o={},u,l,c,d,p;if(i===!0&&(n=1)&&(i=null),a)e={p:e},t={p:t};else if(pe(e)&&!pe(t)){for(c=[],d=e.length,p=d-2,l=1;l<d;l++)c.push(s(e[l-1],e[l]));d--,r=function(g){g*=d;var h=Math.min(p,~~g);return c[h](g-h)},i=t}else n||(e=qt(pe(e)?[]:{},e));if(!c){for(u in t)Vn.call(o,e,u,"get",t[u]);r=function(g){return Yn(g,o)||(a?e.p:e)}}}return ct(i,r)},ur=function(e,t,i){var n=e.labels,r=ze,a,o,u;for(a in n)o=n[a]-t,o<0==!!i&&o&&r>(o=Math.abs(o))&&(u=a,r=o);return u},Ae=function(e,t,i){var n=e.vars,r=n[t],a=q,o=e._ctx,u,l,c;if(r)return u=n[t+"Params"],l=n.callbackScope||e,i&&nt.length&&wi(),o&&(q=o),c=u?r.apply(l,u):r.call(l),q=a,c},ii=function(e){return at(e),e.scrollTrigger&&e.scrollTrigger.kill(!!de),e.progress()<1&&Ae(e,"onInterrupt"),e},Bt,Jr=[],es=function(e){if(e)if(e=!e.name&&e.default||e,xn()||e.headless){var t=e.name,i=j(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:hi,render:Yn,add:Vn,kill:Na,modifier:Ma,rawVars:0},a={targetTest:0,get:0,getSetter:qn,aliases:{},register:0};if(jt(),e!==n){if(Ce[t])return;be(n,be(xi(e,r),a)),qt(n.prototype,qt(r,xi(e,a))),Ce[n.prop=t]=n,e.targetTest&&(Li.push(n),kn[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Rr(t,n),e.register&&e.register(Te,n,Ee)}else Jr.push(e)},z=255,ni={aqua:[0,z,z],lime:[0,z,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,z],navy:[0,0,128],white:[z,z,z],olive:[128,128,0],yellow:[z,z,0],orange:[z,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[z,0,0],pink:[z,192,203],cyan:[0,z,z],transparent:[z,z,z,0]},en=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*z+.5|0},ts=function(e,t,i){var n=e?Ze(e)?[e>>16,e>>8&z,e&z]:0:ni.black,r,a,o,u,l,c,d,p,f,g;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ni[e])n=ni[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+r+r+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&z,n&z,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&z,e&z]}else if(e.substr(0,3)==="hsl"){if(n=g=e.match(dn),!t)u=+n[0]%360/360,l=+n[1]/100,c=+n[2]/100,a=c<=.5?c*(l+1):c+l-c*l,r=c*2-a,n.length>3&&(n[3]*=1),n[0]=en(u+1/3,r,a),n[1]=en(u,r,a),n[2]=en(u-1/3,r,a);else if(~e.indexOf("="))return n=e.match(Mr),i&&n.length<4&&(n[3]=1),n}else n=e.match(dn)||ni.transparent;n=n.map(Number)}return t&&!g&&(r=n[0]/z,a=n[1]/z,o=n[2]/z,d=Math.max(r,a,o),p=Math.min(r,a,o),c=(d+p)/2,d===p?u=l=0:(f=d-p,l=c>.5?f/(2-d-p):f/(d+p),u=d===r?(a-o)/f+(a<o?6:0):d===a?(o-r)/f+2:(r-a)/f+4,u*=60),n[0]=~~(u+.5),n[1]=~~(l*100+.5),n[2]=~~(c*100+.5)),i&&n.length<4&&(n[3]=1),n},is=function(e){var t=[],i=[],n=-1;return e.split(rt).forEach(function(r){var a=r.match(Rt)||[];t.push.apply(t,a),i.push(n+=a.length+1)}),t.c=i,t},lr=function(e,t,i){var n="",r=(e+n).match(rt),a=t?"hsla(":"rgba(",o=0,u,l,c,d;if(!r)return e;if(r=r.map(function(p){return(p=ts(p,t,1))&&a+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),i&&(c=is(e),u=i.c,u.join(n)!==c.c.join(n)))for(l=e.replace(rt,"1").split(Rt),d=l.length-1;o<d;o++)n+=l[o]+(~u.indexOf(o)?r.shift()||a+"0,0,0,0)":(c.length?c:r.length?r:i).shift());if(!l)for(l=e.split(rt),d=l.length-1;o<d;o++)n+=l[o]+r[o];return n+l[d]},rt=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ni)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),Da=/hsl[a]?\(/,ns=function(e){var t=e.join(" "),i;if(rt.lastIndex=0,rt.test(t))return i=Da.test(t),e[1]=lr(e[1],i),e[0]=lr(e[0],i,is(e[1])),!0},pi,ye=function(){var s=Date.now,e=500,t=33,i=s(),n=i,r=1e3/240,a=r,o=[],u,l,c,d,p,f,g=function h(_){var D=s()-n,m=_===!0,S,T,E,A;if((D>e||D<0)&&(i+=D-t),n+=D,E=n-i,S=E-a,(S>0||m)&&(A=++d.frame,p=E-d.time*1e3,d.time=E=E/1e3,a+=S+(S>=r?4:r-S),T=1),m||(u=l(h)),T)for(f=0;f<o.length;f++)o[f](E,p,A,_)};return d={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return p/(1e3/(_||60))},wake:function(){wr&&(!hn&&xn()&&(Ge=hn=window,Rn=Ge.document||{},Pe.gsap=Te,(Ge.gsapVersions||(Ge.gsapVersions=[])).push(Te.version),xr(Oi||Ge.GreenSockGlobals||!Ge.gsap&&Ge||{}),Jr.forEach(es)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&d.sleep(),l=c||function(_){return setTimeout(_,a-d.time*1e3+1|0)},pi=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(u),pi=0,l=hi},lagSmoothing:function(_,D){e=_||1/0,t=Math.min(D||33,e)},fps:function(_){r=1e3/(_||240),a=d.time*1e3+r},add:function(_,D,m){var S=D?function(T,E,A,I){_(T,E,A,I),d.remove(S)}:_;return d.remove(_),o[m?"unshift":"push"](S),jt(),S},remove:function(_,D){~(D=o.indexOf(_))&&o.splice(D,1)&&f>=D&&f--},_listeners:o},d}(),jt=function(){return!pi&&ye.wake()},N={},ma=/^[\d.\-M][\d.\-,\s]/,Ea=/["']/g,Sa=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],r=1,a=i.length,o,u,l;r<a;r++)u=i[r],o=r!==a-1?u.lastIndexOf(","):u.length,l=u.substr(0,o),t[n]=isNaN(l)?l.replace(Ea,"").trim():+l,n=u.substr(o+1).trim();return t},Ta=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Ca=function(e){var t=(e+"").split("("),i=N[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Sa(t[1])]:Ta(e).split(",").map(Ur)):N._CE&&ma.test(e)?N._CE("",e):i},rs=function(e){return function(t){return 1-e(1-t)}},ss=function s(e,t){for(var i=e._first,n;i;)i instanceof ge?s(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?s(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},yt=function(e,t){return e&&(j(e)?e:N[e]||Ca(e))||t},Lt=function(e,t,i,n){i===void 0&&(i=function(u){return 1-t(1-u)}),n===void 0&&(n=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var r={easeIn:t,easeOut:i,easeInOut:n},a;return me(e,function(o){N[o]=Pe[o]=r,N[a=o.toLowerCase()]=i;for(var u in r)N[a+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=N[o+"."+u]=r[u]}),r},as=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},tn=function s(e,t,i){var n=t>=1?t:1,r=(i||(e?.3:.45))/(t<1?t:1),a=r/cn*(Math.asin(1/n)||0),o=function(c){return c===1?1:n*Math.pow(2,-10*c)*Ks((c-a)*r)+1},u=e==="out"?o:e==="in"?function(l){return 1-o(1-l)}:as(o);return r=cn/r,u.config=function(l,c){return s(e,l,c)},u},nn=function s(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},n=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:as(i);return n.config=function(r){return s(e,r)},n};me("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;Lt(s+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});N.Linear.easeNone=N.none=N.Linear.easeIn;Lt("Elastic",tn("in"),tn("out"),tn());(function(s,e){var t=1/e,i=2*t,n=2.5*t,r=function(o){return o<t?s*o*o:o<i?s*Math.pow(o-1.5/e,2)+.75:o<n?s*(o-=2.25/e)*o+.9375:s*Math.pow(o-2.625/e,2)+.984375};Lt("Bounce",function(a){return 1-r(1-a)},r)})(7.5625,2.75);Lt("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});Lt("Circ",function(s){return-(Lr(1-s*s)-1)});Lt("Sine",function(s){return s===1?1:-Xs(s*Ws)+1});Lt("Back",nn("in"),nn("out"),nn());N.SteppedEase=N.steps=Pe.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0,a=1-fe;return function(o){return((n*Ti(0,a,o)|0)+r)*i}}};$t.ease=N["quad.out"];me("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return Gn+=s+","+s+"Params,"});var os=function(e,t){this.id=js++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:kr,this.set=t?t.getSetter:qn},gi=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Wt(this,+t.duration,1,1),this.data=t.data,q&&(this._ctx=q,q.data.push(this)),pi||ye.wake()}var e=s.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Wt(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(jt(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(ji(this,i),!r._dp||r.parent||zr(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Ue(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===fe||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Gr(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+ar(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+ar(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?Yt(this._tTime,r)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Ri(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-1e-8?0:this._rts,this.totalTime(Ti(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),Wi(this),na(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fe&&(this._tTime-=fe)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Ue(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(De(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ri(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Js);var n=de;return de=i,Hn(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),de=n,this},e.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,or(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,or(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(Fe(this,i),De(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,De(n)),this._dur||(this._zTime=-1e-8),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-fe)},e.eventCallback=function(i,n,r){var a=this.vars;return arguments.length>1?(n?(a[i]=n,r&&(a[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete a[i],this):a[i]},e.then=function(i){var n=this;return new Promise(function(r){var a=j(i)?i:Hr,o=function(){var l=n.then;n.then=null,j(a)&&(a=a(n))&&(a.then||a===n)&&(n.then=l),r(a),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?o():n._prom=o})},e.kill=function(){ii(this)},s}();be(gi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ge=function(s){Fr(e,s);function e(i,n){var r;return i===void 0&&(i={}),r=s.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=De(i.sortChildren),Y&&Ue(i.parent||Y,We(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&$r(We(r),i.scrollTrigger),r}var t=e.prototype;return t.to=function(n,r,a){return ai(0,arguments,this),this},t.from=function(n,r,a){return ai(1,arguments,this),this},t.fromTo=function(n,r,a,o){return ai(2,arguments,this),this},t.set=function(n,r,a){return r.duration=0,r.parent=this,si(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new te(n,r,Fe(this,a),1),this},t.call=function(n,r,a){return Ue(this,te.delayedCall(0,n,r),a)},t.staggerTo=function(n,r,a,o,u,l,c){return a.duration=r,a.stagger=a.stagger||o,a.onComplete=l,a.onCompleteParams=c,a.parent=this,new te(n,a,Fe(this,u)),this},t.staggerFrom=function(n,r,a,o,u,l,c){return a.runBackwards=1,si(a).immediateRender=De(a.immediateRender),this.staggerTo(n,r,a,o,u,l,c)},t.staggerFromTo=function(n,r,a,o,u,l,c,d){return o.startAt=a,si(o).immediateRender=De(o.immediateRender),this.staggerTo(n,r,o,u,l,c,d)},t.render=function(n,r,a){var o=this._time,u=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=n<=0?0:ie(n),d=this._zTime<0!=n<0&&(this._initted||!l),p,f,g,h,_,D,m,S,T,E,A,I;if(this!==Y&&c>u&&n>=0&&(c=u),c!==this._tTime||a||d){if(o!==this._time&&l&&(c+=this._time-o,n+=this._time-o),p=c,T=this._start,S=this._ts,D=!S,d&&(l||(o=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(A=this._yoyo,_=l+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(_*100+n,r,a);if(p=ie(c%_),c===u?(h=this._repeat,p=l):(E=ie(c/_),h=~~E,h&&h===E&&(p=l,h--),p>l&&(p=l)),E=Yt(this._tTime,_),!o&&this._tTime&&E!==h&&this._tTime-E*_-this._dur<=0&&(E=h),A&&h&1&&(p=l-p,I=1),h!==E&&!this._lock){var P=A&&E&1,C=P===(A&&h&1);if(h<E&&(P=!P),o=P?0:c%l?l:c,this._lock=1,this.render(o||(I?0:ie(h*_)),r,!l)._lock=0,this._tTime=c,!r&&this.parent&&Ae(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),o&&o!==this._time||D!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,u=this._tDur,C&&(this._lock=2,o=P?l:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!D)return this;ss(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(m=oa(this,ie(o),ie(p)),m&&(c-=p-(p=m._start))),this._tTime=c,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,o=0),!o&&c&&!r&&!E&&(Ae(this,"onStart"),this._tTime!==c))return this;if(p>=o&&n>=0)for(f=this._first;f;){if(g=f._next,(f._act||p>=f._start)&&f._ts&&m!==f){if(f.parent!==this)return this.render(n,r,a);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,r,a),p!==this._time||!this._ts&&!D){m=0,g&&(c+=this._zTime=-1e-8);break}}f=g}else{f=this._last;for(var M=n<0?n:p;f;){if(g=f._prev,(f._act||M<=f._end)&&f._ts&&m!==f){if(f.parent!==this)return this.render(n,r,a);if(f.render(f._ts>0?(M-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(M-f._start)*f._ts,r,a||de&&Hn(f)),p!==this._time||!this._ts&&!D){m=0,g&&(c+=this._zTime=M?-1e-8:fe);break}}f=g}}if(m&&!r&&(this.pause(),m.render(p>=o?0:-1e-8)._zTime=p>=o?1:-1,this._ts))return this._start=T,Wi(this),this.render(n,r,a);this._onUpdate&&!r&&Ae(this,"onUpdate",!0),(c===u&&this._tTime>=this.totalDuration()||!c&&o)&&(T===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((n||!l)&&(c===u&&this._ts>0||!c&&this._ts<0)&&at(this,1),!r&&!(n<0&&!o)&&(c||o||!u)&&(Ae(this,c===u&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,r){var a=this;if(Ze(r)||(r=Fe(this,r,n)),!(n instanceof gi)){if(pe(n))return n.forEach(function(o){return a.add(o,r)}),this;if(le(n))return this.addLabel(n,r);if(j(n))n=te.delayedCall(0,n);else return this}return this!==n?Ue(this,n,r):this},t.getChildren=function(n,r,a,o){n===void 0&&(n=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),o===void 0&&(o=-1e8);for(var u=[],l=this._first;l;)l._start>=o&&(l instanceof te?r&&u.push(l):(a&&u.push(l),n&&u.push.apply(u,l.getChildren(!0,r,a)))),l=l._next;return u},t.getById=function(n){for(var r=this.getChildren(1,1,1),a=r.length;a--;)if(r[a].vars.id===n)return r[a]},t.remove=function(n){return le(n)?this.removeLabel(n):j(n)?this.killTweensOf(n):(n.parent===this&&Yi(this,n),n===this._recent&&(this._recent=this._last),Ct(this))},t.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ie(ye.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),s.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},t.addLabel=function(n,r){return this.labels[n]=Fe(this,r),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,r,a){var o=te.delayedCall(0,r||hi,a);return o.data="isPause",this._hasPause=1,Ue(this,o,Fe(this,n))},t.removePause=function(n){var r=this._first;for(n=Fe(this,n);r;)r._start===n&&r.data==="isPause"&&at(r),r=r._next},t.killTweensOf=function(n,r,a){for(var o=this.getTweensOf(n,a),u=o.length;u--;)et!==o[u]&&o[u].kill(n,r);return this},t.getTweensOf=function(n,r){for(var a=[],o=Me(n),u=this._first,l=Ze(r),c;u;)u instanceof te?ea(u._targets,o)&&(l?(!et||u._initted&&u._ts)&&u.globalTime(0)<=r&&u.globalTime(u.totalDuration())>r:!r||u.isActive())&&a.push(u):(c=u.getTweensOf(o,r)).length&&a.push.apply(a,c),u=u._next;return a},t.tweenTo=function(n,r){r=r||{};var a=this,o=Fe(a,n),u=r,l=u.startAt,c=u.onStart,d=u.onStartParams,p=u.immediateRender,f,g=te.to(a,be({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:r.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale())||fe,onStart:function(){if(a.pause(),!f){var _=r.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale());g._dur!==_&&Wt(g,_,0,1).render(g._time,!0,!0),f=1}c&&c.apply(g,d||[])}},r));return p?g.render(0):g},t.tweenFromTo=function(n,r,a){return this.tweenTo(r,be({startAt:{time:Fe(this,n)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),ur(this,Fe(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),ur(this,Fe(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+fe)},t.shiftChildren=function(n,r,a){a===void 0&&(a=0);for(var o=this._first,u=this.labels,l;o;)o._start>=a&&(o._start+=n,o._end+=n),o=o._next;if(r)for(l in u)u[l]>=a&&(u[l]+=n);return Ct(this)},t.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return s.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,a;r;)a=r._next,this.remove(r),r=a;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Ct(this)},t.totalDuration=function(n){var r=0,a=this,o=a._last,u=ze,l,c,d;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-n:n));if(a._dirty){for(d=a.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>u&&a._sort&&o._ts&&!a._lock?(a._lock=1,Ue(a,o,c-o._delay,1)._lock=0):u=c,c<0&&o._ts&&(r-=c,(!d&&!a._dp||d&&d.smoothChildTiming)&&(a._start+=c/a._ts,a._time-=c,a._tTime-=c),a.shiftChildren(-c,!1,-1/0),u=0),o._end>r&&o._ts&&(r=o._end),o=l;Wt(a,a===Y&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(n){if(Y._ts&&(Gr(Y,Ri(n,Y)),Br=ye.frame),ye.frame>=rr){rr+=Ie.autoSleep||120;var r=Y._first;if((!r||!r._ts)&&Ie.autoSleep&&ye._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||ye.sleep()}}},e}(gi);be(ge.prototype,{_lock:0,_hasPause:0,_forcing:0});var ya=function(e,t,i,n,r,a,o){var u=new Ee(this._pt,e,t,0,1,fs,null,r),l=0,c=0,d,p,f,g,h,_,D,m;for(u.b=i,u.e=n,i+="",n+="",(D=~n.indexOf("random("))&&(n=fi(n)),a&&(m=[i,n],a(m,e,t),i=m[0],n=m[1]),p=i.match(Qi)||[];d=Qi.exec(n);)g=d[0],h=n.substring(l,d.index),f?f=(f+1)%5:h.substr(-5)==="rgba("&&(f=1),g!==p[c++]&&(_=parseFloat(p[c-1])||0,u._pt={_next:u._pt,p:h||c===1?h:",",s:_,c:g.charAt(1)==="="?Ht(_,g)-_:parseFloat(g)-_,m:f&&f<4?Math.round:0},l=Qi.lastIndex);return u.c=l<n.length?n.substring(l,n.length):"",u.fp=o,(Nr.test(n)||D)&&(u.e=0),this._pt=u,u},Vn=function(e,t,i,n,r,a,o,u,l,c){j(n)&&(n=n(r||0,e,a));var d=e[t],p=i!=="get"?i:j(d)?l?e[t.indexOf("set")||!j(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,f=j(d)?l?Fa:ds:$n,g;if(le(n)&&(~n.indexOf("random(")&&(n=fi(n)),n.charAt(1)==="="&&(g=Ht(p,n)+(he(p)||0),(g||g===0)&&(n=g))),!c||p!==n||En)return!isNaN(p*n)&&n!==""?(g=new Ee(this._pt,e,t,+p||0,n-(p||0),typeof d=="boolean"?va:hs,0,f),l&&(g.fp=l),o&&g.modifier(o,this,e),this._pt=g):(!d&&!(t in e)&&Bn(t,n),ya.call(this,e,t,p,n,f,u||Ie.stringFilter,l))},Aa=function(e,t,i,n,r){if(j(e)&&(e=oi(e,r,t,i,n)),!$e(e)||e.style&&e.nodeType||pe(e)||vr(e))return le(e)?oi(e,r,t,i,n):e;var a={},o;for(o in e)a[o]=oi(e[o],r,t,i,n);return a},us=function(e,t,i,n,r,a){var o,u,l,c;if(Ce[e]&&(o=new Ce[e]).init(r,o.rawVars?t[e]:Aa(t[e],n,r,a,i),i,n,a)!==!1&&(i._pt=u=new Ee(i._pt,r,e,0,1,o.render,o,0,o.priority),i!==Bt))for(l=i._ptLookup[i._targets.indexOf(r)],c=o._props.length;c--;)l[o._props[c]]=u;return o},et,En,zn=function s(e,t,i){var n=e.vars,r=n.ease,a=n.startAt,o=n.immediateRender,u=n.lazy,l=n.onUpdate,c=n.runBackwards,d=n.yoyoEase,p=n.keyframes,f=n.autoRevert,g=e._dur,h=e._startAt,_=e._targets,D=e.parent,m=D&&D.data==="nested"?D.vars.targets:_,S=e._overwrite==="auto"&&!On,T=e.timeline,E,A,I,P,C,M,B,w,k,$,H,V,K;if(T&&(!p||!r)&&(r="none"),e._ease=yt(r,$t.ease),e._yEase=d?rs(yt(d===!0?r:d,$t.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!T&&!!n.runBackwards,!T||p&&!n.stagger){if(w=_[0]?Tt(_[0]).harness:0,V=w&&n[w.prop],E=xi(n,kn),h&&(h._zTime<0&&h.progress(1),t<0&&c&&o&&!f?h.render(-1,!0):h.revert(c&&g?Fi:Qs),h._lazy=0),a){if(at(e._startAt=te.set(_,be({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:!h&&De(u),startAt:null,delay:0,onUpdate:l&&function(){return Ae(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(de||!o&&!f)&&e._startAt.revert(Fi),o&&g&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(c&&g&&!h){if(t&&(o=!1),I=be({overwrite:!1,data:"isFromStart",lazy:o&&!h&&De(u),immediateRender:o,stagger:0,parent:D},E),V&&(I[w.prop]=V),at(e._startAt=te.set(_,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(de?e._startAt.revert(Fi):e._startAt.render(-1,!0)),e._zTime=t,!o)s(e._startAt,fe,fe);else if(!t)return}for(e._pt=e._ptCache=0,u=g&&De(u)||u&&!g,A=0;A<_.length;A++){if(C=_[A],B=C._gsap||Un(_)[A]._gsap,e._ptLookup[A]=$={},fn[B.id]&&nt.length&&wi(),H=m===_?A:m.indexOf(C),w&&(k=new w).init(C,V||E,e,H,m)!==!1&&(e._pt=P=new Ee(e._pt,C,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(se){$[se]=P}),k.priority&&(M=1)),!w||V)for(I in E)Ce[I]&&(k=us(I,E,e,H,C,m))?k.priority&&(M=1):$[I]=P=Vn.call(e,C,I,"get",E[I],H,m,0,n.stringFilter);e._op&&e._op[A]&&e.kill(C,e._op[A]),S&&e._pt&&(et=e,Y.killTweensOf(C,$,e.globalTime(t)),K=!e.parent,et=0),e._pt&&u&&(fn[B.id]=1)}M&&ps(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!K,p&&t<=0&&T.render(ze,!0,!0)},Ia=function(e,t,i,n,r,a,o,u){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,d,p,f;if(!l)for(l=e._ptCache[t]=[],p=e._ptLookup,f=e._targets.length;f--;){if(c=p[f][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return En=1,e.vars[t]="+=0",zn(e,o),En=0,u?di(t+" not eligible for reset"):1;l.push(c)}for(f=l.length;f--;)d=l[f],c=d._pt||d,c.s=(n||n===0)&&!r?n:c.s+(n||0)+a*c.c,c.c=i-c.s,d.e&&(d.e=Z(i)+he(d.e)),d.b&&(d.b=c.s+he(d.b))},Pa=function(e,t){var i=e[0]?Tt(e[0]).harness:0,n=i&&i.aliases,r,a,o,u;if(!n)return t;r=qt({},t);for(a in n)if(a in r)for(u=n[a].split(","),o=u.length;o--;)r[u[o]]=r[a];return r},ba=function(e,t,i,n){var r=t.ease||n||"power1.inOut",a,o;if(pe(t))o=i[e]||(i[e]=[]),t.forEach(function(u,l){return o.push({t:l/(t.length-1)*100,v:u,e:r})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:r})},oi=function(e,t,i,n,r){return j(e)?e.call(t,i,n,r):le(e)&&~e.indexOf("random(")?fi(e):e},ls=Gn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",cs={};me(ls+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return cs[s]=1});var te=function(s){Fr(e,s);function e(i,n,r,a){var o;typeof n=="number"&&(r.duration=n,n=r,r=null),o=s.call(this,a?n:si(n))||this;var u=o.vars,l=u.duration,c=u.delay,d=u.immediateRender,p=u.stagger,f=u.overwrite,g=u.keyframes,h=u.defaults,_=u.scrollTrigger,D=u.yoyoEase,m=n.parent||Y,S=(pe(i)||vr(i)?Ze(i[0]):"length"in n)?[i]:Me(i),T,E,A,I,P,C,M,B;if(o._targets=S.length?Un(S):di("GSAP target "+i+" not found. https://gsap.com",!Ie.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=f,g||p||Ai(l)||Ai(c)){if(n=o.vars,T=o.timeline=new ge({data:"nested",defaults:h||{},targets:m&&m.data==="nested"?m.vars.targets:S}),T.kill(),T.parent=T._dp=We(o),T._start=0,p||Ai(l)||Ai(c)){if(I=S.length,M=p&&jr(p),$e(p))for(P in p)~ls.indexOf(P)&&(B||(B={}),B[P]=p[P]);for(E=0;E<I;E++)A=xi(n,cs),A.stagger=0,D&&(A.yoyoEase=D),B&&qt(A,B),C=S[E],A.duration=+oi(l,We(o),E,C,S),A.delay=(+oi(c,We(o),E,C,S)||0)-o._delay,!p&&I===1&&A.delay&&(o._delay=c=A.delay,o._start+=c,A.delay=0),T.to(C,A,M?M(E,C,S):0),T._ease=N.none;T.duration()?l=c=0:o.timeline=0}else if(g){si(be(T.vars.defaults,{ease:"none"})),T._ease=yt(g.ease||n.ease||"none");var w=0,k,$,H;if(pe(g))g.forEach(function(V){return T.to(S,V,">")}),T.duration();else{A={};for(P in g)P==="ease"||P==="easeEach"||ba(P,g[P],A,g.easeEach);for(P in A)for(k=A[P].sort(function(V,K){return V.t-K.t}),w=0,E=0;E<k.length;E++)$=k[E],H={ease:$.e,duration:($.t-(E?k[E-1].t:0))/100*l},H[P]=$.v,T.to(S,H,w),w+=H.duration;T.duration()<l&&T.to({},{duration:l-T.duration()})}}l||o.duration(l=T.duration())}else o.timeline=0;return f===!0&&!On&&(et=We(o),Y.killTweensOf(S),et=0),Ue(m,We(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(d||!l&&!g&&o._start===ie(m._time)&&De(d)&&ra(We(o))&&m.data!=="nested")&&(o._tTime=-1e-8,o.render(Math.max(0,-c)||0)),_&&$r(We(o),_),o}var t=e.prototype;return t.render=function(n,r,a){var o=this._time,u=this._tDur,l=this._dur,c=n<0,d=n>u-fe&&!c?u:n<fe?0:n,p,f,g,h,_,D,m,S,T;if(!l)aa(this,n,r,a);else if(d!==this._tTime||!n||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(p=d,S=this.timeline,this._repeat){if(h=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(h*100+n,r,a);if(p=ie(d%h),d===u?(g=this._repeat,p=l):(_=ie(d/h),g=~~_,g&&g===_?(p=l,g--):p>l&&(p=l)),D=this._yoyo&&g&1,D&&(T=this._yEase,p=l-p),_=Yt(this._tTime,h),p===o&&!a&&this._initted&&g===_)return this._tTime=d,this;g!==_&&(S&&this._yEase&&ss(S,D),this.vars.repeatRefresh&&!D&&!this._lock&&p!==h&&this._initted&&(this._lock=a=1,this.render(ie(h*g),!0).invalidate()._lock=0))}if(!this._initted){if(qr(this,c?n:p,a,r,d))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&g!==_))return this;if(l!==this._dur)return this.render(n,r,a)}if(this._tTime=d,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=m=(T||this._ease)(p/l),this._from&&(this.ratio=m=1-m),!o&&d&&!r&&!_&&(Ae(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(m,f.d),f=f._next;S&&S.render(n<0?n:S._dur*S._ease(p/this._dur),r,a)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(c&&pn(this,n,r,a),Ae(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!r&&this.parent&&Ae(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(c&&!this._onUpdate&&pn(this,n,!0,!0),(n||!l)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&at(this,1),!r&&!(c&&!o)&&(d||o||D)&&(Ae(this,d===u?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),s.prototype.invalidate.call(this,n)},t.resetTo=function(n,r,a,o,u){pi||ye.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||zn(this,l),c=this._ease(l/this._dur),Ia(this,n,r,a,o,c,l,u)?this.resetTo(n,r,a,o,1):(ji(this,0),this.parent||Vr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?ii(this):this.scrollTrigger&&this.scrollTrigger.kill(!!de),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,et&&et.vars.overwrite!==!0)._first||ii(this),this.parent&&a!==this.timeline.totalDuration()&&Wt(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,u=n?Me(n):o,l=this._ptLookup,c=this._pt,d,p,f,g,h,_,D;if((!r||r==="all")&&ia(o,u))return r==="all"&&(this._pt=0),ii(this);for(d=this._op=this._op||[],r!=="all"&&(le(r)&&(h={},me(r,function(m){return h[m]=1}),r=h),r=Pa(o,r)),D=o.length;D--;)if(~u.indexOf(o[D])){p=l[D],r==="all"?(d[D]=r,g=p,f={}):(f=d[D]=d[D]||{},g=r);for(h in g)_=p&&p[h],_&&((!("kill"in _.d)||_.d.kill(h)===!0)&&Yi(this,_,"_pt"),delete p[h]),f!=="all"&&(f[h]=1)}return this._initted&&!this._pt&&c&&ii(this),this},e.to=function(n,r){return new e(n,r,arguments[2])},e.from=function(n,r){return ai(1,arguments)},e.delayedCall=function(n,r,a,o){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(n,r,a){return ai(2,arguments)},e.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(n,r)},e.killTweensOf=function(n,r,a){return Y.killTweensOf(n,r,a)},e}(gi);be(te.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});me("staggerTo,staggerFrom,staggerFromTo",function(s){te[s]=function(){var e=new ge,t=_n.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var $n=function(e,t,i){return e[t]=i},ds=function(e,t,i){return e[t](i)},Fa=function(e,t,i,n){return e[t](n.fp,i)},La=function(e,t,i){return e.setAttribute(t,i)},qn=function(e,t){return j(e[t])?ds:wn(e[t])&&e.setAttribute?La:$n},hs=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},va=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},fs=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},Yn=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Ma=function(e,t,i,n){for(var r=this._pt,a;r;)a=r._next,r.p===n&&r.modifier(e,t,i),r=a},Na=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?Yi(this,t,"_pt"):t.dep||(i=1),t=n;return!i},Oa=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},ps=function(e){for(var t=e._pt,i,n,r,a;t;){for(i=t._next,n=r;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:a)?t._prev._next=t:r=t,(t._next=n)?n._prev=t:a=t,t=i}e._pt=r},Ee=function(){function s(t,i,n,r,a,o,u,l,c){this.t=i,this.s=r,this.c=a,this.p=n,this.r=o||hs,this.d=u||this,this.set=l||$n,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=Oa,this.m=i,this.mt=r,this.tween=n},s}();me(Gn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return kn[s]=1});Pe.TweenMax=Pe.TweenLite=te;Pe.TimelineLite=Pe.TimelineMax=ge;Y=new ge({sortChildren:!1,defaults:$t,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ie.stringFilter=ns;var At=[],vi={},wa=[],cr=0,xa=0,rn=function(e){return(vi[e]||wa).map(function(t){return t()})},Sn=function(){var e=Date.now(),t=[];e-cr>2&&(rn("matchMediaInit"),At.forEach(function(i){var n=i.queries,r=i.conditions,a,o,u,l;for(o in n)a=Ge.matchMedia(n[o]).matches,a&&(u=1),a!==r[o]&&(r[o]=a,l=1);l&&(i.revert(),u&&t.push(i))}),rn("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),cr=e,rn("matchMedia"))},gs=function(){function s(t,i){this.selector=i&&Dn(i),this.data=[],this._r=[],this.isReverted=!1,this.id=xa++,t&&this.add(t)}var e=s.prototype;return e.add=function(i,n,r){j(i)&&(r=n,n=i,i=j);var a=this,o=function(){var l=q,c=a.selector,d;return l&&l!==a&&l.data.push(a),r&&(a.selector=Dn(r)),q=a,d=n.apply(a,arguments),j(d)&&a._r.push(d),q=l,a.selector=c,a.isReverted=!1,d};return a.last=o,i===j?o(a,function(u){return a.add(null,u)}):i?a[i]=o:o},e.ignore=function(i){var n=q;q=null,i(this),q=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof s?i.push.apply(i,n.getTweens()):n instanceof te&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var r=this;if(i?function(){for(var o=r.getTweens(),u=r.data.length,l;u--;)l=r.data[u],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),u=r.data.length;u--;)l=r.data[u],l instanceof ge?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof te)&&l.revert&&l.revert(i);r._r.forEach(function(c){return c(i,r)}),r.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),n)for(var a=At.length;a--;)At[a].id===this.id&&At.splice(a,1)},e.revert=function(i){this.kill(i||{})},s}(),Ra=function(){function s(t){this.contexts=[],this.scope=t,q&&q.data.push(this)}var e=s.prototype;return e.add=function(i,n,r){$e(i)||(i={matches:i});var a=new gs(0,r||this.scope),o=a.conditions={},u,l,c;q&&!a.selector&&(a.selector=q.selector),this.contexts.push(a),n=a.add("onMatch",n),a.queries=i;for(l in i)l==="all"?c=1:(u=Ge.matchMedia(i[l]),u&&(At.indexOf(a)<0&&At.push(a),(o[l]=u.matches)&&(c=1),u.addListener?u.addListener(Sn):u.addEventListener("change",Sn)));return c&&n(a,function(d){return a.add(null,d)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},s}(),Bi={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return es(n)})},timeline:function(e){return new ge(e)},getTweensOf:function(e,t){return Y.getTweensOf(e,t)},getProperty:function(e,t,i,n){le(e)&&(e=Me(e)[0]);var r=Tt(e||{}).get,a=i?Hr:Ur;return i==="native"&&(i=""),e&&(t?a((Ce[t]&&Ce[t].get||r)(e,t,i,n)):function(o,u,l){return a((Ce[o]&&Ce[o].get||r)(e,o,u,l))})},quickSetter:function(e,t,i){if(e=Me(e),e.length>1){var n=e.map(function(c){return Te.quickSetter(c,t,i)}),r=n.length;return function(c){for(var d=r;d--;)n[d](c)}}e=e[0]||{};var a=Ce[t],o=Tt(e),u=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(c){var d=new a;Bt._pt=0,d.init(e,i?c+i:c,Bt,0,[e]),d.render(1,d),Bt._pt&&Yn(1,Bt)}:o.set(e,u);return a?l:function(c){return l(e,u,i?c+i:c,o,1)}},quickTo:function(e,t,i){var n,r=Te.to(e,be((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),a=function(u,l,c){return r.resetTo(t,u,l,c)};return a.tween=r,a},isTweening:function(e){return Y.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yt(e.ease,$t.ease)),sr($t,e||{})},config:function(e){return sr(Ie,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach(function(o){return o&&!Ce[o]&&!Pe[o]&&di(t+" effect requires "+o+" plugin.")}),Ji[t]=function(o,u,l){return i(Me(o),be(u||{},r),l)},a&&(ge.prototype[t]=function(o,u,l){return this.add(Ji[t](o,$e(u)?u:(l=u)&&{},this),l)})},registerEase:function(e,t){N[e]=yt(t)},parseEase:function(e,t){return arguments.length?yt(e,t):N},getById:function(e){return Y.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new ge(e),n,r;for(i.smoothChildTiming=De(e.smoothChildTiming),Y.remove(i),i._dp=0,i._time=i._tTime=Y._time,n=Y._first;n;)r=n._next,(t||!(!n._dur&&n instanceof te&&n.vars.onComplete===n._targets[0]))&&Ue(i,n,n._start-n._delay),n=r;return Ue(Y,i,0),i},context:function(e,t){return e?new gs(e,t):q},matchMedia:function(e){return new Ra(e)},matchMediaRefresh:function(){return At.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||Sn()},addEventListener:function(e,t){var i=vi[e]||(vi[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=vi[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:pa,wrapYoyo:ga,distribute:jr,random:Kr,snap:Xr,normalize:fa,getUnit:he,clamp:la,splitColor:ts,toArray:Me,selector:Dn,mapRange:Qr,pipe:da,unitize:ha,interpolate:_a,shuffle:Wr},install:xr,effects:Ji,ticker:ye,updateRoot:ge.updateRoot,plugins:Ce,globalTimeline:Y,core:{PropTween:Ee,globals:Rr,Tween:te,Timeline:ge,Animation:gi,getCache:Tt,_removeLinkedListItem:Yi,reverting:function(){return de},context:function(e){return e&&q&&(q.data.push(e),e._ctx=q),q},suppressOverwrites:function(e){return On=e}}};me("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return Bi[s]=te[s]});ye.add(ge.updateRoot);Bt=Bi.to({},{duration:0});var Ba=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},ka=function(e,t){var i=e._targets,n,r,a;for(n in t)for(r=i.length;r--;)a=e._ptLookup[r][n],a&&(a=a.d)&&(a._pt&&(a=Ba(a,n)),a&&a.modifier&&a.modifier(t[n],e,i[r],n))},sn=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,r,a){a._onInit=function(o){var u,l;if(le(r)&&(u={},me(r,function(c){return u[c]=1}),r=u),t){u={};for(l in r)u[l]=t(r[l]);r=u}ka(o,r)}}}},Te=Bi.registerPlugin({name:"attr",init:function(e,t,i,n,r){var a,o,u;this.tween=i;for(a in t)u=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(u||0)+"",t[a],n,r,0,0,a),o.op=a,o.b=u,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)de?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},sn("roundProps",mn),sn("modifiers"),sn("snap",Xr))||Bi;te.version=ge.version=Te.version="3.13.0";wr=1;xn()&&jt();N.Power0;N.Power1;N.Power2;N.Power3;N.Power4;N.Linear;N.Quad;N.Cubic;N.Quart;N.Quint;N.Strong;N.Elastic;N.Back;N.SteppedEase;N.Bounce;N.Sine;N.Expo;N.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var dr,tt,Vt,Wn,St,hr,jn,Ga=function(){return typeof window<"u"},Qe={},Dt=180/Math.PI,zt=Math.PI/180,vt=Math.atan2,fr=1e8,Xn=/([A-Z])/g,Ua=/(left|right|width|margin|padding|x)/i,Ha=/[\s,\(]\S/,He={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Tn=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Va=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},za=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},$a=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},_s=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Ds=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},qa=function(e,t,i){return e.style[t]=i},Ya=function(e,t,i){return e.style.setProperty(t,i)},Wa=function(e,t,i){return e._gsap[t]=i},ja=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Xa=function(e,t,i,n,r){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(r,a)},Ka=function(e,t,i,n,r){var a=e._gsap;a[t]=i,a.renderTransform(r,a)},W="transform",Se=W+"Origin",Za=function s(e,t){var i=this,n=this.target,r=n.style,a=n._gsap;if(e in Qe&&r){if(this.tfm=this.tfm||{},e!=="transform")e=He[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=je(n,o)}):this.tfm[e]=a.x?a[e]:je(n,e),e===Se&&(this.tfm.zOrigin=a.zOrigin);else return He.transform.split(",").forEach(function(o){return s.call(i,o,t)});if(this.props.indexOf(W)>=0)return;a.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Se,t,"")),e=W}(r||t)&&this.props.push(e,t,r[e])},ms=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Qa=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,r,a;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?i[e[r]]=e[r+2]:i.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(Xn,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)n[a]=this.tfm[a];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=jn(),(!r||!r.isStart)&&!i[W]&&(ms(i),n.zOrigin&&i[Se]&&(i[Se]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Es=function(e,t){var i={target:e,props:[],revert:Qa,save:Za};return e._gsap||Te.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},Ss,Cn=function(e,t){var i=tt.createElementNS?tt.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):tt.createElement(e);return i&&i.style?i:tt.createElement(e)},Ne=function s(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(Xn,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&s(e,Xt(t)||t,1)||""},pr="O,Moz,ms,Ms,Webkit".split(","),Xt=function(e,t,i){var n=t||St,r=n.style,a=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(pr[a]+e in r););return a<0?null:(a===3?"ms":a>=0?pr[a]:"")+e},yn=function(){Ga()&&window.document&&(dr=window,tt=dr.document,Vt=tt.documentElement,St=Cn("div")||{style:{}},Cn("div"),W=Xt(W),Se=W+"Origin",St.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ss=!!Xt("perspective"),jn=Te.core.reverting,Wn=1)},gr=function(e){var t=e.ownerSVGElement,i=Cn("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),r;n.style.display="block",i.appendChild(n),Vt.appendChild(i);try{r=n.getBBox()}catch{}return i.removeChild(n),Vt.removeChild(i),r},_r=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Ts=function(e){var t,i;try{t=e.getBBox()}catch{t=gr(e),i=1}return t&&(t.width||t.height)||i||(t=gr(e)),t&&!t.width&&!t.x&&!t.y?{x:+_r(e,["x","cx","x1"])||0,y:+_r(e,["y","cy","y1"])||0,width:0,height:0}:t},Cs=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ts(e))},bt=function(e,t){if(t){var i=e.style,n;t in Qe&&t!==Se&&(t=W),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(Xn,"-$1").toLowerCase())):i.removeAttribute(t)}},it=function(e,t,i,n,r,a){var o=new Ee(e._pt,t,i,0,1,a?Ds:_s);return e._pt=o,o.b=n,o.e=r,e._props.push(i),o},Dr={deg:1,rad:1,turn:1},Ja={grid:1,flex:1},ot=function s(e,t,i,n){var r=parseFloat(i)||0,a=(i+"").trim().substr((r+"").length)||"px",o=St.style,u=Ua.test(t),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(u?"Width":"Height"),d=100,p=n==="px",f=n==="%",g,h,_,D;if(n===a||!r||Dr[n]||Dr[a])return r;if(a!=="px"&&!p&&(r=s(e,t,i,"px")),D=e.getCTM&&Cs(e),(f||a==="%")&&(Qe[t]||~t.indexOf("adius")))return g=D?e.getBBox()[u?"width":"height"]:e[c],Z(f?r/g*d:r/100*g);if(o[u?"width":"height"]=d+(p?a:n),h=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!l?e:e.parentNode,D&&(h=(e.ownerSVGElement||{}).parentNode),(!h||h===tt||!h.appendChild)&&(h=tt.body),_=h._gsap,_&&f&&_.width&&u&&_.time===ye.time&&!_.uncache)return Z(r/_.width*d);if(f&&(t==="height"||t==="width")){var m=e.style[t];e.style[t]=d+n,g=e[c],m?e.style[t]=m:bt(e,t)}else(f||a==="%")&&!Ja[Ne(h,"display")]&&(o.position=Ne(e,"position")),h===e&&(o.position="static"),h.appendChild(St),g=St[c],h.removeChild(St),o.position="absolute";return u&&f&&(_=Tt(h),_.time=ye.time,_.width=h[c]),Z(p?g*r/d:g&&r?d/g*r:0)},je=function(e,t,i,n){var r;return Wn||yn(),t in He&&t!=="transform"&&(t=He[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qe[t]&&t!=="transform"?(r=Di(e,n),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Gi(Ne(e,Se))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=ki[t]&&ki[t](e,t,i)||Ne(e,t)||kr(e,t)||(t==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?ot(e,t,r,i)+i:r},eo=function(e,t,i,n){if(!i||i==="none"){var r=Xt(t,e,1),a=r&&Ne(e,r,1);a&&a!==i?(t=r,i=a):t==="borderColor"&&(i=Ne(e,"borderTopColor"))}var o=new Ee(this._pt,e.style,t,0,1,fs),u=0,l=0,c,d,p,f,g,h,_,D,m,S,T,E;if(o.b=i,o.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=Ne(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(h=e.style[t],e.style[t]=n,n=Ne(e,t)||n,h?e.style[t]=h:bt(e,t)),c=[i,n],ns(c),i=c[0],n=c[1],p=i.match(Rt)||[],E=n.match(Rt)||[],E.length){for(;d=Rt.exec(n);)_=d[0],m=n.substring(u,d.index),g?g=(g+1)%5:(m.substr(-5)==="rgba("||m.substr(-5)==="hsla(")&&(g=1),_!==(h=p[l++]||"")&&(f=parseFloat(h)||0,T=h.substr((f+"").length),_.charAt(1)==="="&&(_=Ht(f,_)+T),D=parseFloat(_),S=_.substr((D+"").length),u=Rt.lastIndex-S.length,S||(S=S||Ie.units[t]||T,u===n.length&&(n+=S,o.e+=S)),T!==S&&(f=ot(e,t,h,S)||0),o._pt={_next:o._pt,p:m||l===1?m:",",s:f,c:D-f,m:g&&g<4||t==="zIndex"?Math.round:0});o.c=u<n.length?n.substring(u,n.length):""}else o.r=t==="display"&&n==="none"?Ds:_s;return Nr.test(n)&&(o.e=0),this._pt=o,o},mr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},to=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=mr[i]||i,t[1]=mr[n]||n,t.join(" ")},io=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,r=t.u,a=i._gsap,o,u,l;if(r==="all"||r===!0)n.cssText="",u=1;else for(r=r.split(","),l=r.length;--l>-1;)o=r[l],Qe[o]&&(u=1,o=o==="transformOrigin"?Se:W),bt(i,o);u&&(bt(i,W),a&&(a.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",Di(i,1),a.uncache=1,ms(n)))}},ki={clearProps:function(e,t,i,n,r){if(r.data!=="isFromStart"){var a=e._pt=new Ee(e._pt,t,i,0,0,io);return a.u=n,a.pr=-10,a.tween=r,e._props.push(i),1}}},_i=[1,0,0,1,0,0],ys={},As=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Er=function(e){var t=Ne(e,W);return As(t)?_i:t.substr(7).match(Mr).map(Z)},Kn=function(e,t){var i=e._gsap||Tt(e),n=e.style,r=Er(e),a,o,u,l;return i.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,r=[u.a,u.b,u.c,u.d,u.e,u.f],r.join(",")==="1,0,0,1,0,0"?_i:r):(r===_i&&!e.offsetParent&&e!==Vt&&!i.svg&&(u=n.display,n.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(l=1,o=e.nextElementSibling,Vt.appendChild(e)),r=Er(e),u?n.display=u:bt(e,"display"),l&&(o?a.insertBefore(e,o):a?a.appendChild(e):Vt.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},An=function(e,t,i,n,r,a){var o=e._gsap,u=r||Kn(e,!0),l=o.xOrigin||0,c=o.yOrigin||0,d=o.xOffset||0,p=o.yOffset||0,f=u[0],g=u[1],h=u[2],_=u[3],D=u[4],m=u[5],S=t.split(" "),T=parseFloat(S[0])||0,E=parseFloat(S[1])||0,A,I,P,C;i?u!==_i&&(I=f*_-g*h)&&(P=T*(_/I)+E*(-h/I)+(h*m-_*D)/I,C=T*(-g/I)+E*(f/I)-(f*m-g*D)/I,T=P,E=C):(A=Ts(e),T=A.x+(~S[0].indexOf("%")?T/100*A.width:T),E=A.y+(~(S[1]||S[0]).indexOf("%")?E/100*A.height:E)),n||n!==!1&&o.smooth?(D=T-l,m=E-c,o.xOffset=d+(D*f+m*h)-D,o.yOffset=p+(D*g+m*_)-m):o.xOffset=o.yOffset=0,o.xOrigin=T,o.yOrigin=E,o.smooth=!!n,o.origin=t,o.originIsAbsolute=!!i,e.style[Se]="0px 0px",a&&(it(a,o,"xOrigin",l,T),it(a,o,"yOrigin",c,E),it(a,o,"xOffset",d,o.xOffset),it(a,o,"yOffset",p,o.yOffset)),e.setAttribute("data-svg-origin",T+" "+E)},Di=function(e,t){var i=e._gsap||new os(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,r=i.scaleX<0,a="px",o="deg",u=getComputedStyle(e),l=Ne(e,Se)||"0",c,d,p,f,g,h,_,D,m,S,T,E,A,I,P,C,M,B,w,k,$,H,V,K,se,yi,Zt,Qt,ft,nr,Ye,pt;return c=d=p=h=_=D=m=S=T=0,f=g=1,i.svg=!!(e.getCTM&&Cs(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(n[W]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[W]!=="none"?u[W]:"")),n.scale=n.rotate=n.translate="none"),I=Kn(e,i.svg),i.svg&&(i.uncache?(se=e.getBBox(),l=i.xOrigin-se.x+"px "+(i.yOrigin-se.y)+"px",K=""):K=!t&&e.getAttribute("data-svg-origin"),An(e,K||l,!!K||i.originIsAbsolute,i.smooth!==!1,I)),E=i.xOrigin||0,A=i.yOrigin||0,I!==_i&&(B=I[0],w=I[1],k=I[2],$=I[3],c=H=I[4],d=V=I[5],I.length===6?(f=Math.sqrt(B*B+w*w),g=Math.sqrt($*$+k*k),h=B||w?vt(w,B)*Dt:0,m=k||$?vt(k,$)*Dt+h:0,m&&(g*=Math.abs(Math.cos(m*zt))),i.svg&&(c-=E-(E*B+A*k),d-=A-(E*w+A*$))):(pt=I[6],nr=I[7],Zt=I[8],Qt=I[9],ft=I[10],Ye=I[11],c=I[12],d=I[13],p=I[14],P=vt(pt,ft),_=P*Dt,P&&(C=Math.cos(-P),M=Math.sin(-P),K=H*C+Zt*M,se=V*C+Qt*M,yi=pt*C+ft*M,Zt=H*-M+Zt*C,Qt=V*-M+Qt*C,ft=pt*-M+ft*C,Ye=nr*-M+Ye*C,H=K,V=se,pt=yi),P=vt(-k,ft),D=P*Dt,P&&(C=Math.cos(-P),M=Math.sin(-P),K=B*C-Zt*M,se=w*C-Qt*M,yi=k*C-ft*M,Ye=$*M+Ye*C,B=K,w=se,k=yi),P=vt(w,B),h=P*Dt,P&&(C=Math.cos(P),M=Math.sin(P),K=B*C+w*M,se=H*C+V*M,w=w*C-B*M,V=V*C-H*M,B=K,H=se),_&&Math.abs(_)+Math.abs(h)>359.9&&(_=h=0,D=180-D),f=Z(Math.sqrt(B*B+w*w+k*k)),g=Z(Math.sqrt(V*V+pt*pt)),P=vt(H,V),m=Math.abs(P)>2e-4?P*Dt:0,T=Ye?1/(Ye<0?-Ye:Ye):0),i.svg&&(K=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!As(Ne(e,W)),K&&e.setAttribute("transform",K))),Math.abs(m)>90&&Math.abs(m)<270&&(r?(f*=-1,m+=h<=0?180:-180,h+=h<=0?180:-180):(g*=-1,m+=m<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=d-((i.yPercent=d&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=p+a,i.scaleX=Z(f),i.scaleY=Z(g),i.rotation=Z(h)+o,i.rotationX=Z(_)+o,i.rotationY=Z(D)+o,i.skewX=m+o,i.skewY=S+o,i.transformPerspective=T+a,(i.zOrigin=parseFloat(l.split(" ")[2])||!t&&i.zOrigin||0)&&(n[Se]=Gi(l)),i.xOffset=i.yOffset=0,i.force3D=Ie.force3D,i.renderTransform=i.svg?ro:Ss?Is:no,i.uncache=0,i},Gi=function(e){return(e=e.split(" "))[0]+" "+e[1]},an=function(e,t,i){var n=he(t);return Z(parseFloat(t)+parseFloat(ot(e,"x",i+"px",n)))+n},no=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Is(e,t)},gt="0deg",Jt="0px",_t=") ",Is=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,a=i.x,o=i.y,u=i.z,l=i.rotation,c=i.rotationY,d=i.rotationX,p=i.skewX,f=i.skewY,g=i.scaleX,h=i.scaleY,_=i.transformPerspective,D=i.force3D,m=i.target,S=i.zOrigin,T="",E=D==="auto"&&e&&e!==1||D===!0;if(S&&(d!==gt||c!==gt)){var A=parseFloat(c)*zt,I=Math.sin(A),P=Math.cos(A),C;A=parseFloat(d)*zt,C=Math.cos(A),a=an(m,a,I*C*-S),o=an(m,o,-Math.sin(A)*-S),u=an(m,u,P*C*-S+S)}_!==Jt&&(T+="perspective("+_+_t),(n||r)&&(T+="translate("+n+"%, "+r+"%) "),(E||a!==Jt||o!==Jt||u!==Jt)&&(T+=u!==Jt||E?"translate3d("+a+", "+o+", "+u+") ":"translate("+a+", "+o+_t),l!==gt&&(T+="rotate("+l+_t),c!==gt&&(T+="rotateY("+c+_t),d!==gt&&(T+="rotateX("+d+_t),(p!==gt||f!==gt)&&(T+="skew("+p+", "+f+_t),(g!==1||h!==1)&&(T+="scale("+g+", "+h+_t),m.style[W]=T||"translate(0, 0)"},ro=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,a=i.x,o=i.y,u=i.rotation,l=i.skewX,c=i.skewY,d=i.scaleX,p=i.scaleY,f=i.target,g=i.xOrigin,h=i.yOrigin,_=i.xOffset,D=i.yOffset,m=i.forceCSS,S=parseFloat(a),T=parseFloat(o),E,A,I,P,C;u=parseFloat(u),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,u+=c),u||l?(u*=zt,l*=zt,E=Math.cos(u)*d,A=Math.sin(u)*d,I=Math.sin(u-l)*-p,P=Math.cos(u-l)*p,l&&(c*=zt,C=Math.tan(l-c),C=Math.sqrt(1+C*C),I*=C,P*=C,c&&(C=Math.tan(c),C=Math.sqrt(1+C*C),E*=C,A*=C)),E=Z(E),A=Z(A),I=Z(I),P=Z(P)):(E=d,P=p,A=I=0),(S&&!~(a+"").indexOf("px")||T&&!~(o+"").indexOf("px"))&&(S=ot(f,"x",a,"px"),T=ot(f,"y",o,"px")),(g||h||_||D)&&(S=Z(S+g-(g*E+h*I)+_),T=Z(T+h-(g*A+h*P)+D)),(n||r)&&(C=f.getBBox(),S=Z(S+n/100*C.width),T=Z(T+r/100*C.height)),C="matrix("+E+","+A+","+I+","+P+","+S+","+T+")",f.setAttribute("transform",C),m&&(f.style[W]=C)},so=function(e,t,i,n,r){var a=360,o=le(r),u=parseFloat(r)*(o&&~r.indexOf("rad")?Dt:1),l=u-n,c=n+l+"deg",d,p;return o&&(d=r.split("_")[1],d==="short"&&(l%=a,l!==l%(a/2)&&(l+=l<0?a:-360)),d==="cw"&&l<0?l=(l+a*fr)%a-~~(l/a)*a:d==="ccw"&&l>0&&(l=(l-a*fr)%a-~~(l/a)*a)),e._pt=p=new Ee(e._pt,t,i,n,l,Va),p.e=c,p.u="deg",e._props.push(i),p},Sr=function(e,t){for(var i in t)e[i]=t[i];return e},ao=function(e,t,i){var n=Sr({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,u,l,c,d,p,f,g;n.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),a[W]=t,o=Di(i,1),bt(i,W),i.setAttribute("transform",l)):(l=getComputedStyle(i)[W],a[W]=t,o=Di(i,1),a[W]=l);for(u in Qe)l=n[u],c=o[u],l!==c&&r.indexOf(u)<0&&(f=he(l),g=he(c),d=f!==g?ot(i,u,l,g):parseFloat(l),p=parseFloat(c),e._pt=new Ee(e._pt,o,u,d,p-d,Tn),e._pt.u=g||0,e._props.push(u));Sr(o,n)};me("padding,margin,Width,Radius",function(s,e){var t="Top",i="Right",n="Bottom",r="Left",a=(e<3?[t,i,n,r]:[t+r,t+i,n+i,n+r]).map(function(o){return e<2?s+o:"border"+o+s});ki[e>1?"border"+s:s]=function(o,u,l,c,d){var p,f;if(arguments.length<4)return p=a.map(function(g){return je(o,g,l)}),f=p.join(" "),f.split(p[0]).length===5?p[0]:f;p=(c+"").split(" "),f={},a.forEach(function(g,h){return f[g]=p[h]=p[h]||p[(h-1)/2|0]}),o.init(u,f,d)}});var Ps={name:"css",register:yn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var a=this._props,o=e.style,u=i.vars.startAt,l,c,d,p,f,g,h,_,D,m,S,T,E,A,I,P;Wn||yn(),this.styles=this.styles||Es(e),P=this.styles.props,this.tween=i;for(h in t)if(h!=="autoRound"&&(c=t[h],!(Ce[h]&&us(h,t,i,n,e,r)))){if(f=typeof c,g=ki[h],f==="function"&&(c=c.call(i,n,e,r),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=fi(c)),g)g(this,e,h,c,i)&&(I=1);else if(h.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(h)+"").trim(),c+="",rt.lastIndex=0,rt.test(l)||(_=he(l),D=he(c)),D?_!==D&&(l=ot(e,h,l,D)+D):_&&(c+=_),this.add(o,"setProperty",l,c,n,r,0,0,h),a.push(h),P.push(h,0,o[h]);else if(f!=="undefined"){if(u&&h in u?(l=typeof u[h]=="function"?u[h].call(i,n,e,r):u[h],le(l)&&~l.indexOf("random(")&&(l=fi(l)),he(l+"")||l==="auto"||(l+=Ie.units[h]||he(je(e,h))||""),(l+"").charAt(1)==="="&&(l=je(e,h))):l=je(e,h),p=parseFloat(l),m=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),m&&(c=c.substr(2)),d=parseFloat(c),h in He&&(h==="autoAlpha"&&(p===1&&je(e,"visibility")==="hidden"&&d&&(p=0),P.push("visibility",0,o.visibility),it(this,o,"visibility",p?"inherit":"hidden",d?"inherit":"hidden",!d)),h!=="scale"&&h!=="transform"&&(h=He[h],~h.indexOf(",")&&(h=h.split(",")[0]))),S=h in Qe,S){if(this.styles.save(h),f==="string"&&c.substring(0,6)==="var(--"&&(c=Ne(e,c.substring(4,c.indexOf(")"))),d=parseFloat(c)),T||(E=e._gsap,E.renderTransform&&!t.parseTransform||Di(e,t.parseTransform),A=t.smoothOrigin!==!1&&E.smooth,T=this._pt=new Ee(this._pt,o,W,0,1,E.renderTransform,E,0,-1),T.dep=1),h==="scale")this._pt=new Ee(this._pt,E,"scaleY",E.scaleY,(m?Ht(E.scaleY,m+d):d)-E.scaleY||0,Tn),this._pt.u=0,a.push("scaleY",h),h+="X";else if(h==="transformOrigin"){P.push(Se,0,o[Se]),c=to(c),E.svg?An(e,c,0,A,0,this):(D=parseFloat(c.split(" ")[2])||0,D!==E.zOrigin&&it(this,E,"zOrigin",E.zOrigin,D),it(this,o,h,Gi(l),Gi(c)));continue}else if(h==="svgOrigin"){An(e,c,1,A,0,this);continue}else if(h in ys){so(this,E,h,p,m?Ht(p,m+c):c);continue}else if(h==="smoothOrigin"){it(this,E,"smooth",E.smooth,c);continue}else if(h==="force3D"){E[h]=c;continue}else if(h==="transform"){ao(this,c,e);continue}}else h in o||(h=Xt(h)||h);if(S||(d||d===0)&&(p||p===0)&&!Ha.test(c)&&h in o)_=(l+"").substr((p+"").length),d||(d=0),D=he(c)||(h in Ie.units?Ie.units[h]:_),_!==D&&(p=ot(e,h,l,D)),this._pt=new Ee(this._pt,S?E:o,h,p,(m?Ht(p,m+d):d)-p,!S&&(D==="px"||h==="zIndex")&&t.autoRound!==!1?$a:Tn),this._pt.u=D||0,_!==D&&D!=="%"&&(this._pt.b=l,this._pt.r=za);else if(h in o)eo.call(this,e,h,l,m?m+c:c);else if(h in e)this.add(e,h,l||e[h],m?m+c:c,n,r);else if(h!=="parseTransform"){Bn(h,c);continue}S||(h in o?P.push(h,0,o[h]):typeof e[h]=="function"?P.push(h,2,e[h]()):P.push(h,1,l||e[h])),a.push(h)}}I&&ps(this)},render:function(e,t){if(t.tween._time||!jn())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:je,aliases:He,getSetter:function(e,t,i){var n=He[t];return n&&n.indexOf(",")<0&&(t=n),t in Qe&&t!==Se&&(e._gsap.x||je(e,"x"))?i&&hr===i?t==="scale"?ja:Wa:(hr=i||{})&&(t==="scale"?Xa:Ka):e.style&&!wn(e.style[t])?qa:~t.indexOf("-")?Ya:qn(e,t)},core:{_removeProperty:bt,_getMatrix:Kn}};Te.utils.checkPrefix=Xt;Te.core.getStyleSaver=Es;(function(s,e,t,i){var n=me(s+","+e+","+t,function(r){Qe[r]=1});me(e,function(r){Ie.units[r]="deg",ys[r]=1}),He[n[13]]=s+","+e,me(i,function(r){var a=r.split(":");He[a[1]]=n[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");me("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Ie.units[s]="px"});Te.registerPlugin(Ps);var xe=Te.registerPlugin(Ps)||Te;xe.core.Tween;/*!
 * strings: 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var oo=/(?:^\s+|\s+$)/g,uo=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function bs(s){var e=s.nodeType,t="";if(e===1||e===9||e===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)t+=bs(s)}else if(e===3||e===4)return s.nodeValue;return t}function In(s,e,t,i,n){for(var r=s.firstChild,a=[],o;r;)r.nodeType===3?(o=(r.nodeValue+"").replace(/^\n+/g,""),i||(o=o.replace(/\s+/g," ")),a.push.apply(a,Fs(o,e,t,i,n))):(r.nodeName+"").toLowerCase()==="br"?a[a.length-1]+="<br>":a.push(r.outerHTML),r=r.nextSibling;if(!n)for(o=a.length;o--;)a[o]==="&"&&a.splice(o,1,"&amp;");return a}function Fs(s,e,t,i,n){if(s+="",t&&(s=s.trim?s.trim():s.replace(oo,"")),e&&e!=="")return s.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var r=[],a=s.length,o=0,u,l;o<a;o++)l=s.charAt(o),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||s.charCodeAt(o+1)>=65024&&s.charCodeAt(o+1)<=65039)&&(u=((s.substr(o,12).split(uo)||[])[1]||"").length||2,l=s.substr(o,u),r.emoji=1,o+=u-1),r.push(n?l:l===">"?"&gt;":l==="<"?"&lt;":i&&l===" "&&(s.charAt(o-1)===" "||s.charAt(o+1)===" ")?"&nbsp;":l);return r}/*!
 * TextPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ri,Ii,lo=function(){return ri||typeof window<"u"&&(ri=window.gsap)&&ri.registerPlugin&&ri},Ci={version:"3.13.0",name:"text",init:function(e,t,i){typeof t!="object"&&(t={value:t});var n=e.nodeName.toUpperCase(),r=this,a=t,o=a.newClass,u=a.oldClass,l=a.preserveSpaces,c=a.rtl,d=r.delimiter=t.delimiter||"",p=r.fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),f,g,h,_,D,m,S,T;if(r.svg=e.getBBox&&(n==="TEXT"||n==="TSPAN"),!("innerHTML"in e)&&!r.svg)return!1;if(r.target=e,!("value"in t)){r.text=r.original=[""];return}for(h=In(e,d,!1,l,r.svg),Ii||(Ii=document.createElement("div")),Ii.innerHTML=t.value,g=In(Ii,d,!1,l,r.svg),r.from=i._from,(r.from||c)&&!(c&&r.from)&&(n=h,h=g,g=n),r.hasClass=!!(o||u),r.newClass=c?u:o,r.oldClass=c?o:u,n=h.length-g.length,f=n<0?h:g,n<0&&(n=-n);--n>-1;)f.push(p);if(t.type==="diff"){for(_=0,D=[],m=[],S="",n=0;n<g.length;n++)T=g[n],T===h[n]?S+=T:(D[_]=S+T,m[_++]=S+h[n],S="");g=D,h=m,S&&(g.push(S),h.push(S))}t.speed&&i.duration(Math.min(.05/t.speed*f.length,t.maxDuration||9999)),r.rtl=c,r.original=h,r.text=g,r._props.push("text")},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var i=t.text,n=t.hasClass,r=t.newClass,a=t.oldClass,o=t.delimiter,u=t.target,l=t.fillChar,c=t.original,d=t.rtl,p=i.length,f=(d?1-e:e)*p+.5|0,g,h,_;n&&e?(g=r&&f,h=a&&f!==p,_=(g?"<span class='"+r+"'>":"")+i.slice(0,f).join(o)+(g?"</span>":"")+(h?"<span class='"+a+"'>":"")+o+c.slice(f).join(o)+(h?"</span>":"")):_=i.slice(0,f).join(o)+o+c.slice(f).join(o),t.svg?u.textContent=_:u.innerHTML=l==="&nbsp;"&&~_.indexOf("  ")?_.split("  ").join("&nbsp;&nbsp;"):_}};Ci.splitInnerHTML=In;Ci.emojiSafeSplit=Fs;Ci.getText=bs;lo()&&ri.registerPlugin(Ci);const co=1.3,ho=1.3,fo=.1,Ls=150,po=32,go=1.6,_o=.15,Do=.8,mo=2,Ft=40.6,Eo=.4,So="power1.out",To=1.7,Co=2.6,yo="sine.inOut",oe=[0,246,278.727,311.455,344.182,16.909,49.636,82.364,115.091,147.818,180.545,213.273],Le={env:1,lcd:0,logo:1,btn:0},Ao=.3,Io=.3,Po=.5,bo=.2,Fo=25,vs=1500,Lo=vs/1e3,vo=.03,Mo=.02,No=1,Oo=.1,wo=.05,xo=.7,Ro=.2,Bo=250,ko=.005,Go=.045,Uo=9,Ho=1.8,Vo=75,Ot=.85,zo=0,$o=.33,qo=.66,Yo=1,Wo=1.05,ei=(s,e)=>s.map(t=>({...t,pos:t.pos*e})),Ms=[{power:zo,stops:ei([{l:.976,c:.079,type:"hotspot",pos:0},{l:.941,c:.149,type:"hotspot",pos:0},{l:.604,c:.321,type:"main",pos:0},{l:.551,c:.301,type:"main",pos:.0264},{l:.461,c:.251,type:"main",pos:.0366},{l:.416,c:.226,type:"main",pos:.0425},{l:.351,c:.191,type:"main",pos:.0594},{l:.291,c:.121,type:"main",pos:.0739},{l:.074,c:0,type:"darkedge",pos:.4266},{l:0,c:0,type:"blackedge",pos:1}],Ot)},{power:$o,stops:ei([{l:.976,c:.079,type:"hotspot",pos:0},{l:.941,c:.149,type:"hotspot",pos:.01},{l:.604,c:.321,type:"main",pos:.0495},{l:.551,c:.301,type:"main",pos:.0943},{l:.461,c:.251,type:"main",pos:.1503},{l:.416,c:.226,type:"main",pos:.1793},{l:.351,c:.191,type:"main",pos:.2321},{l:.291,c:.121,type:"main",pos:.447},{l:.074,c:0,type:"darkedge",pos:.8361},{l:0,c:0,type:"blackedge",pos:1}],Ot)},{power:qo,stops:ei([{l:.976,c:.079,type:"hotspot",pos:.01},{l:.941,c:.149,type:"hotspot",pos:.04},{l:.604,c:.321,type:"main",pos:.08},{l:.551,c:.301,type:"main",pos:.2533},{l:.461,c:.251,type:"main",pos:.35},{l:.416,c:.226,type:"main",pos:.4},{l:.351,c:.191,type:"main",pos:.57},{l:.291,c:.121,type:"main",pos:.67},{l:.074,c:0,type:"darkedge",pos:.93},{l:0,c:0,type:"blackedge",pos:1}],Ot)},{power:Yo,stops:ei([{l:.976,c:.079,type:"hotspot",pos:.01},{l:.941,c:.149,type:"hotspot",pos:.06},{l:.604,c:.321,type:"main",pos:.1006},{l:.551,c:.301,type:"main",pos:.3011},{l:.461,c:.251,type:"main",pos:.4498},{l:.416,c:.226,type:"main",pos:.5834},{l:.351,c:.191,type:"main",pos:.7228},{l:.291,c:.121,type:"main",pos:.8371},{l:.074,c:0,type:"darkedge",pos:.9626},{l:0,c:0,type:"blackedge",pos:1}],Ot)},{power:Wo,stops:ei([{l:.976,c:.079,type:"hotspot",pos:.01},{l:.941,c:.149,type:"hotspot",pos:.0665},{l:.604,c:.321,type:"main",pos:.1248},{l:.551,c:.301,type:"main",pos:.3302},{l:.461,c:.251,type:"main",pos:.4823},{l:.416,c:.226,type:"main",pos:.6383},{l:.351,c:.191,type:"main",pos:.7547},{l:.291,c:.121,type:"main",pos:.8908},{l:.074,c:0,type:"darkedge",pos:.9775},{l:0,c:0,type:"blackedge",pos:1}],Ot)}],jo=Ms[0].stops.length,Xo=150,Ko=40,Zo=15,Qo=20,Jo=50,eu=150,tu=530,iu=370,Ns={terminalP0Flicker:{numCycles:7,periodStart:.18,periodEnd:.05,onDurationRatio:.4,amplitudeStart:.3,amplitudeEnd:1,glow:{initialOpacity:.1,peakOpacity:.6,finalOpacity:0,initialSize:"0px",peakSize:"3px",finalSize:"0px",colorVar:"--terminal-text-glow-color",scaleWithAmplitude:!0,animatedProperties:{opacity:"--terminal-text-glow-opacity",blur:"--terminal-text-bloom-size"}},targetProperty:"text-shadow-opacity-and-blur"},buttonEnergizeP2P5:{numCycles:12,periodStart:.15,periodEnd:.04,onDurationRatio:.45,amplitudeStart:.2,amplitudeEnd:1,glow:{initialOpacity:{selected:.3,unselected:.2},peakOpacity:{selected:.9,unselected:.7},finalOpacity:{selected:.65,unselected:.35},initialSize:{selected:"2px",unselected:"1px"},peakSize:{selected:"15px",unselected:"10px"},finalSize:{selected:"12px",unselected:"6px"},colorVar:"--btn-glow-color",sizeVar:"--btn-glow-size",opacityVar:"--btn-glow-opacity",scaleWithAmplitude:!0,isButtonSelected:null},targetProperty:"button-lights-and-frame"},lcdP4Flicker:{numCycles:5,periodStart:.12,periodEnd:.06,onDurationRatio:.5,amplitudeStart:.3,amplitudeEnd:.8,glow:{initialOpacity:.05,peakOpacity:.3,finalOpacity:0,initialSize:"0px",peakSize:"8px",finalSize:"0px",colorVar:"--lcd-glow-color",sizeVar:"--lcd-glow-size",opacityVar:"--lcd-glow-opacity",scaleWithAmplitude:!0},targetProperty:"element-opacity-and-box-shadow"},buttonP4DimlyLitFlicker:{numCycles:6,periodStart:.14,periodEnd:.05,onDurationRatio:.4,amplitudeStart:.25,amplitudeEnd:.9,glow:{initialOpacity:.1,peakOpacity:.35,finalOpacity:0,initialSize:"0px",peakSize:"6px",finalSize:"0px",colorVar:"--btn-dimly-lit-glow-color",sizeVar:"--btn-dimly-lit-glow-size",opacityVar:"--btn-dimly-lit-glow-opacity",scaleWithAmplitude:!0},targetProperty:"button-lights-and-frame"},buttonP6EnergizeFlicker:{numCycles:9,periodStart:.1,periodEnd:.03,onDurationRatio:.5,amplitudeStart:.1,amplitudeEnd:1,glow:{initialOpacity:{selected:.25,unselected:.15},peakOpacity:{selected:.8,unselected:.6},finalOpacity:{selected:.65,unselected:.35},initialSize:{selected:"1px",unselected:"0px"},peakSize:{selected:"14px",unselected:"9px"},finalSize:{selected:"12px",unselected:"6px"},colorVar:"--btn-glow-color",sizeVar:"--btn-glow-size",opacityVar:"--btn-glow-opacity",scaleWithAmplitude:!0,isButtonSelected:null},targetProperty:"button-lights-and-frame"}},ti=Object.freeze(Object.defineProperty({__proto__:null,ADVANCED_FLICKER_PROFILES:Ns,APP_LOAD_FADE_IN_DURATION:Ao,ATTENUATION_DURATION:Po,BODY_FADE_IN_DURATION:Io,DEBOUNCE_DELAY:Ls,DEFAULT_ASSIGNMENT_SELECTIONS:Le,DEFAULT_DIAL_A_HUE:Ft,DIAL_B_VISUAL_ROTATION_PER_HUE_DEGREE_CONFIG:mo,DIAL_GRADIENT_SCALE_FACTOR:Do,GSAP_BUTTON_IDLE_DURATION_MAX:Co,GSAP_BUTTON_IDLE_DURATION_MIN:To,GSAP_BUTTON_IDLE_EASE:yo,GSAP_TWEEN_DURATION:Eo,GSAP_TWEEN_EASE:So,HIGHLIGHT_WIDTH_FACTOR:_o,HUE_ASSIGNMENT_ROW_HUES:oe,HUE_UPDATE_THRESHOLD:fo,LENS_GRADIENT_BREAKPOINTS:Ms,LENS_GRADIENT_POSITION_SCALE:Ot,LENS_HOTSPOT_HUE_OFFSET:Vo,LENS_OSCILLATION_AMPLITUDE_MAX_ADDITION:Go,LENS_OSCILLATION_AMPLITUDE_MIN:ko,LENS_OSCILLATION_PERIOD_AT_MAX_POWER:Ho,LENS_OSCILLATION_PERIOD_AT_THRESHOLD:Uo,LENS_OSCILLATION_RESTART_DELAY:Bo,LENS_OSCILLATION_SMOOTHING_DURATION:Ro,LENS_OSCILLATION_THRESHOLD:xo,LENS_STARTUP_RAMP_DURATION:vs,LENS_STARTUP_TARGET_POWER:Fo,MIN_PHASE_DURATION_FOR_STEPPING:wo,NUM_LENS_GRADIENT_STOPS:jo,NUM_RIDGES:po,P2_MAINPWR_PRE_PRIME_DURATION:bo,P3_LENS_RAMP_DURATION_S:Lo,P4_BUTTON_FADE_STAGGER:vo,P6_BUTTON_ENERGIZE_FLICKER_STAGGER:Mo,P6_CSS_TRANSITION_DURATION:No,P7_EFFECTIVE_DURATION:Oo,PIXELS_PER_DEGREE_HUE:ho,PIXELS_PER_DEGREE_ROTATION:co,RIDGE_WIDTH_FACTOR:go,TERMINAL_CURSOR_BLINK_OFF_MS:iu,TERMINAL_CURSOR_BLINK_ON_MS:tu,TERMINAL_MAX_LINES_IN_DOM:Xo,TERMINAL_NEW_LINE_DELAY_MAX_MS:eu,TERMINAL_NEW_LINE_DELAY_MIN_MS:Jo,TERMINAL_TYPING_SPEED_BLOCK_MS_PER_CHAR:Zo,TERMINAL_TYPING_SPEED_STARTUP_MS_PER_CHAR:Qo,TERMINAL_TYPING_SPEED_STATUS_MS_PER_CHAR:Ko},Symbol.toStringTag,{value:"Module"}));function Os(s,e){let t;return function(...n){const r=this,a=()=>{t=null,s.apply(r,n)};clearTimeout(t),t=setTimeout(a,e)}}function nu(s,e,t,i,n){return(s-e)*(n-i)/(t-e)+i}function ws(s){for(let e=s.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s}class ru{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.off(e,t)}}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(i=>i!==t))}}const Pn=new ru;function dt(s,e){let t=e;e&&typeof e=="object"&&Object.keys(e).length>3&&(t=`{ ${Object.keys(e).join(", ")}, ... }`),console.log(`[AppState EMIT] Event: '${s}'. Payload:`,t!==void 0?t:"N/A",e!==void 0&&t!==e?{fullPayload:e}:""),Pn.events[s]&&Pn.events[s].forEach(i=>{try{i(e)}catch(n){console.error(`[AppState EMIT] Error in listener for '${s}':`,n,{payload:e})}})}let ne={A:{id:"A",hue:Ft,rotation:0,targetHue:Ft,targetRotation:0,isDragging:!1},B:{id:"B",hue:0,rotation:0,targetHue:0,targetRotation:0,isDragging:!1}},Ui={env:{hue:oe[Le.env],isColorless:oe[Le.env]===oe[0]},lcd:{hue:oe[Le.lcd],isColorless:oe[Le.lcd]===oe[0]},logo:{hue:oe[Le.logo],isColorless:oe[Le.logo]===oe[0]},btn:{hue:oe[Le.btn],isColorless:oe[Le.btn]===oe[0]}},mt="dim",wt=0,xt="idle",Et="loading";function ht(s){const e=ne[s];if(!e){console.warn(`[AppState GET] Target: Dial '${s}'. Requested: State. Actual: Undefined (not initialized).`);return}return{...e}}function Zn(s){const e=Ui[s];if(!e){console.warn(`[AppState GET] Target: TargetColor '${s}'. Requested: Properties. Actual: Undefined (invalid key).`);return}return{...e}}function Qn(){return mt}function ut(){return wt}function Xi(){return xt}function R(){return Et}function Ki(s,e){const t=!ne[s]||Object.keys(ne[s]).length===0;t&&(s==="A"||s==="B")&&(ne[s]={id:s,hue:s==="A"?Ft:0,rotation:0,targetHue:s==="A"?Ft:0,targetRotation:0,isDragging:!1},console.log(`[AppState SET] Target: Dial '${s}'. Requested: Initialization. Actual (New State):`,JSON.parse(JSON.stringify(ne[s]))));const i={...ne[s]};Object.assign(ne[s],e),(t||i.hue!==ne[s].hue||i.rotation!==ne[s].rotation||i.isDragging!==ne[s].isDragging||i.targetHue!==ne[s].targetHue||i.targetRotation!==ne[s].targetRotation)&&(console.log(`[AppState SET] Target: Dial '${s}'. Requested (Changes):`,JSON.parse(JSON.stringify(e)),"Old State:",JSON.parse(JSON.stringify(i)),"Actual (New State):",JSON.parse(JSON.stringify(ne[s]))),dt("dialUpdated",{id:s,state:{...ne[s]}}))}function bn(s,e){if(Ui.hasOwnProperty(s)){const t=(Number(e)%360+360)%360,i=oe.length>0&&t===oe[0],n=Ui[s];if(n.hue!==t||n.isColorless!==i){const r={...n};n.hue=t,n.isColorless=i,console.log(`[AppState SET] Target: TargetColor '${s}'. Requested Hue: ${e}, Normalized: ${t}. Old Props:`,r,"Actual (New Props):",{...n}),dt("targetColorChanged",{targetKey:s,hue:t,isColorless:i})}}else console.warn(`[AppState SET] Target: TargetColor '${s}'. Requested Hue: ${e}. Error: Invalid targetKey.`)}function xs(s){if(["dim","dark","light"].includes(s)&&mt!==s){const e=mt;mt=s,console.log(`[AppState SET] Target: Theme. Requested: '${s}'. Old: '${e}', Actual (New): '${mt}'`),dt("themeChanged",mt)}}function Fn(s){const e=Math.max(0,Math.min(s/100,1));if(Math.abs(wt-e)>1e-4){const t=wt;wt=e,console.log(`[AppState SET] Target: TrueLensPower. Requested: ${s}%. Old: ${t.toFixed(3)}, Actual (New): ${wt.toFixed(3)} (0-1 scale)`),dt("trueLensPowerChanged",wt)}}function su(s){if(["idle","dragging","settling"].includes(s)&&xt!==s){const e=xt;xt=s,console.log(`[AppState SET] Target: DialBInteractionState. Requested: '${s}'. Old: '${e}', Actual (New): '${xt}'`),dt("dialBInteractionChange",xt)}}function Rs(s){if(["loading","starting-up","interactive","error"].includes(s)&&Et!==s){const e=Et;Et=s,console.log(`[AppState SET] Target: AppStatus. Requested: '${s}'. Old: '${e}', Actual (New): '${Et}'`),dt("appStatusChanged",Et)}}function ve(s,e){return typeof e!="function"?(console.error(`[AppState Subscribe] Listener for event '${s}' is not a function.`),()=>{}):Pn.on(s,e)}(!ne.A||Object.keys(ne.A).length===0)&&Ki("A",{hue:Ft,rotation:0,targetHue:Ft,targetRotation:0,isDragging:!1});(!ne.B||Object.keys(ne.B).length===0)&&Ki("B",{hue:0,rotation:0,targetHue:0,targetRotation:0,isDragging:!1});console.log("[AppState INIT] Initialized with default states:",{dials:JSON.parse(JSON.stringify(ne)),targetColorProps:JSON.parse(JSON.stringify(Ui)),currentTheme:mt,appStatus:Et});const Pi=Object.freeze(Object.defineProperty({__proto__:null,emit:dt,getAppStatus:R,getCurrentTheme:Qn,getDialBInteractionState:Xi,getDialState:ht,getTargetColorProperties:Zn,getTrueLensPower:ut,setAppStatus:Rs,setDialBInteractionState:su,setTargetColorProperties:bn,setTheme:xs,setTrueLensPower:Fn,subscribe:ve,updateDialState:Ki},Symbol.toStringTag,{value:"Module"}));function Be(s,e,t=0){if(!s)return t;const i=s[e];return typeof i=="object"&&i!==null&&(Object.prototype.hasOwnProperty.call(i,"selected")||Object.prototype.hasOwnProperty.call(i,"unselected"))?s.isButtonSelected?i.selected:i.unselected:i!==void 0?i:t}function mi(s,e,t={}){const n={...{lightTargetSelector:".light",overrideGlowParams:{},onStart:null,onComplete:null,onUpdate:null},...t};let r=typeof e=="string"?Ns[e]:e;if(!r){console.warn("[animationUtils createAdvancedFlicker] Profile not found or invalid:",e,". Using default empty timeline.");const f=xe.timeline();return n.onComplete&&f.eventCallback("onComplete",n.onComplete),f.to({},{duration:.01})}r.glow={...r.glow||{},...n.overrideGlowParams};const a=Array.isArray(s)?s:[s];if(a.length===0||!a[0]){console.warn("[animationUtils createAdvancedFlicker] No valid target elements provided.");const f=xe.timeline();return n.onComplete&&f.eventCallback("onComplete",n.onComplete),f.to({},{duration:.01})}const o=xe.timeline({onStart:n.onStart,onComplete:n.onComplete,onUpdate:n.onUpdate});let u=a;if(r.targetProperty==="button-lights-and-frame"){const f=[];a.forEach(g=>{const h=g.querySelectorAll(n.lightTargetSelector);h.length>0&&f.push(...Array.from(h))}),f.length>0&&(u=f)}else r.targetProperty==="text-shadow-opacity-and-blur"&&(u=a);if(o.set(u,{autoAlpha:0,immediateRender:!0}),r.glow&&r.glow.colorVar){const f={},g=Be(r.glow,"initialOpacity",0),h=Be(r.glow,"initialSize","0px");r.glow.opacityVar&&(f[r.glow.opacityVar]=g),r.glow.sizeVar&&(f[r.glow.sizeVar]=typeof h=="number"?`${h}px`:h),r.targetProperty==="text-shadow-opacity-and-blur"&&r.glow.animatedProperties&&(r.glow.animatedProperties.opacity&&(f[r.glow.animatedProperties.opacity]=g),r.glow.animatedProperties.blur&&(f[r.glow.animatedProperties.blur]=typeof h=="number"?`${h}px`:h)),Object.keys(f).length>0&&o.set(a,{css:f,immediateRender:!0})}let l=0;for(let f=0;f<r.numCycles;f++){const g=r.numCycles>1?f/(r.numCycles-1):1,h=r.periodStart+g*(r.periodEnd-r.periodStart),_=h*r.onDurationRatio,D=h*(1-r.onDurationRatio),m=r.amplitudeStart+g*(r.amplitudeEnd-r.amplitudeStart),S=r.numCycles>1?Math.min(1,(f+.5)/(r.numCycles-1)):1,T=Be(r.glow,"initialOpacity",0),E=Be(r.glow,"peakOpacity",0),A=T+S*(E-T),I=Be(r.glow,"initialSize","0px"),P=Be(r.glow,"peakSize","0px"),C=H=>typeof H=="string"?parseFloat(H):H||0,M=C(I),B=C(P),w=M+S*(B-M),k={autoAlpha:m,duration:_,ease:"power1.inOut"},$={};if(r.glow&&r.glow.colorVar){const H=r.glow.scaleWithAmplitude?A*m:A;r.glow.opacityVar&&($[r.glow.opacityVar]=H),r.glow.sizeVar&&($[r.glow.sizeVar]=`${w}px`),r.targetProperty==="text-shadow-opacity-and-blur"&&r.glow.animatedProperties&&(r.glow.animatedProperties.opacity&&($[r.glow.animatedProperties.opacity]=H),r.glow.animatedProperties.blur&&($[r.glow.animatedProperties.blur]=`${w}px`))}if(o.to(u,k,l),Object.keys($).length>0&&o.to(a,{css:$,duration:_,ease:"power1.inOut"},l),l+=_,f<r.numCycles-1){const H={autoAlpha:0,duration:D,ease:"power1.inOut"},V={},K=Be(r.glow,"initialOpacity",0),se=Be(r.glow,"initialSize","0px");r.glow&&r.glow.colorVar&&(r.glow.opacityVar&&(V[r.glow.opacityVar]=K),r.glow.sizeVar&&(V[r.glow.sizeVar]=typeof se=="number"?`${se}px`:se),r.targetProperty==="text-shadow-opacity-and-blur"&&r.glow.animatedProperties&&(r.glow.animatedProperties.opacity&&(V[r.glow.animatedProperties.opacity]=K),r.glow.animatedProperties.blur&&(V[r.glow.animatedProperties.blur]=typeof se=="number"?`${se}px`:se))),o.to(u,H,l),Object.keys(V).length>0&&o.to(a,{css:V,duration:D,ease:"power1.inOut"},l),l+=D}}const c=Math.max(.1,r.periodEnd),d={autoAlpha:r.amplitudeEnd,duration:c,ease:"sine.out"},p={};if(r.glow&&r.glow.colorVar){const f=Be(r.glow,"finalOpacity",0),g=Be(r.glow,"finalSize","0px");r.glow.opacityVar&&(p[r.glow.opacityVar]=f),r.glow.sizeVar&&(p[r.glow.sizeVar]=typeof g=="number"?`${g}px`:g),r.targetProperty==="text-shadow-opacity-and-blur"&&r.glow.animatedProperties&&(r.glow.animatedProperties.opacity&&(p[r.glow.animatedProperties.opacity]=f),r.glow.animatedProperties.blur&&(p[r.glow.animatedProperties.blur]=typeof g=="number"?`${g}px`:g))}return o.to(u,d,l),Object.keys(p).length>0&&o.to(a,{css:p,duration:c,ease:"sine.out"},l),o}class Tr{constructor(e,t){if(this.element=e,this.type=t.type,this.groupId=t.groupId,this.value=t.value,t.gsapInstance?this.gsap=t.gsapInstance:(console.warn(`[Button CONSTRUCTOR] GSAP instance not passed for ${this.getIdentifier()}, falling back to window.gsap. This might cause issues if window.gsap is not correctly populated.`),this.gsap=window.gsap),!this.gsap)throw new Error(`[Button CONSTRUCTOR] GSAP instance is not available for ${this.getIdentifier()}.`);this.currentClasses=new Set,this.currentFlickerAnim=null,this._pressTimeoutId=null}getIdentifier(){return this.element.ariaLabel||this.element.id||this.value||`UnnamedButton_${this.groupId}_${this.type}`}setState(e,t={}){var c;const{skipAria:i=!1,internalFlickerCall:n=!1,forceState:r=!1,phaseContext:a}=t;a||(c=document.getElementById("debug-phase-status"))!=null&&c.textContent;const o=new Set(e?e.split(" ").filter(d=>d):[]);let u=r;if(!u){if(this.currentClasses.size!==o.size)u=!0;else for(const d of o)if(!this.currentClasses.has(d)){u=!0;break}}if(!u&&!r){i||this._updateAriaAttributes();return}if(!n&&this.currentFlickerAnim&&this.currentFlickerAnim.isActive()&&(this.currentFlickerAnim.kill(),this.currentFlickerAnim=null),!n){this.element.classList.remove("is-flickering");const d=Array.from(this.element.querySelectorAll(".light"));d.length>0&&this.gsap.set(d,{clearProps:"all"}),this.gsap.set(this.element,{clearProps:"css"})}[...G.UNLIT.split(" ").filter(d=>d),...G.DIMLY_LIT.split(" ").filter(d=>d),...G.ENERGIZED_UNSELECTED.split(" ").filter(d=>d),"is-selected"].filter(d=>d).forEach(d=>{o.has(d)||this.element.classList.remove(d)}),o.forEach(d=>this.element.classList.add(d)),this.currentClasses=o,i||this._updateAriaAttributes()}_updateAriaAttributes(e=null,t=!1){let i;e!==null?i=e:i=this.currentClasses.has("is-selected")||this.currentClasses.has(G.DIMLY_LIT)&&!this.currentClasses.has("is-energized"),this.type==="toggle"?this.element.setAttribute("aria-pressed",i.toString()):this.type==="radio"&&this.element.setAttribute("aria-checked",i.toString());const n=this.currentClasses.has("is-energized")||this.currentClasses.has(G.DIMLY_LIT);t||this.type==="radio"?this.element.setAttribute("tabindex",i?"0":"-1"):this.type==="toggle"&&this.groupId?this.element.setAttribute("tabindex",i?"0":"-1"):this.element.setAttribute("tabindex",n?"0":"-1")}getElement(){return this.element}getGroupId(){return this.groupId}getValue(){return this.value}getCurrentClasses(){return new Set(this.currentClasses)}static createAdvancedFlicker(e,t,i,n){return mi(e,t,i)}playFlickerToState(e,t,i={}){const{phaseContext:n="UnknownPhase_Flicker",isButtonSelectedOverride:r=null,onCompleteAll:a}=i,o=this.gsap.timeline();o.call(()=>{this.currentFlickerAnim&&this.currentFlickerAnim.isActive()&&this.currentFlickerAnim.kill(),this.element.classList.add("is-flickering"),this.setState(e,{skipAria:!0,phaseContext:`PreFlicker_${n}`,forceState:!0,internalFlickerCall:!0})});const l={overrideGlowParams:{isButtonSelected:r!==null?r:e.includes("is-selected")},lightTargetSelector:".light",onComplete:()=>{this.element.classList.remove("is-flickering"),this.setState(e,{skipAria:!1,forceState:!0,phaseContext:`FlickerComplete_${n}`}),this.currentFlickerAnim=null,a&&a()}},c=mi(this.element,t,l);return o.add(c),this.currentFlickerAnim=o,o}setPressedVisuals(e){if(this._pressTimeoutId&&this.element.classList.contains("is-pressing")&&!e&&(clearTimeout(this._pressTimeoutId),this._pressTimeoutId=null),e){this.element.classList.add("is-pressing");const t=getComputedStyle(this.element).getPropertyValue("--button-unit-pressed-effect-duration-css").trim()||"0.12s",i=parseFloat(t)*(t.endsWith("ms")?1:1e3),n=()=>{this.element.classList.remove("is-pressing"),this.element.removeEventListener("animationend",n),this._pressTimeoutId&&(clearTimeout(this._pressTimeoutId),this._pressTimeoutId=null)};this.element.addEventListener("animationend",n),this._pressTimeoutId=setTimeout(()=>{this.element.classList.remove("is-pressing"),this.element.removeEventListener("animationend",n),this._pressTimeoutId=null},i+50)}else this.element.classList.remove("is-pressing")}destroy(){this.currentFlickerAnim&&this.currentFlickerAnim.isActive()&&this.currentFlickerAnim.kill(),this._pressTimeoutId&&clearTimeout(this._pressTimeoutId)}}const G={UNLIT:"is-unlit",DIMLY_LIT:"is-dimly-lit",ENERGIZED_UNSELECTED:"is-energized",ENERGIZED_SELECTED:"is-energized is-selected"};class au{constructor(){this._buttons=new Map,this.gsap=null}init(e,t){if(console.log(`[ButtonManager INIT] Initializing with ${(e==null?void 0:e.length)||0} elements.`),t)this.gsap=t;else if(console.error("[ButtonManager INIT] CRITICAL: GSAP instance not provided."),this.gsap=window.gsap,!this.gsap)throw new Error("GSAP instance not available in ButtonManager");!e||e.length===0||e.forEach(i=>this.addButton(i))}addButton(e,t=null){var c;if(!e||typeof e.classList>"u"||this._buttons.has(e))return;let i="action";e.classList.contains("button-unit--toggle")&&(i="toggle"),e.getAttribute("role")==="radio"&&(i="radio");const n=(c=e.querySelector(".button-text"))==null?void 0:c.textContent.trim();n&&["BTN 1","BTN 2","BTN 3","BTN 4"].includes(n)&&(e.classList.contains("button-unit--action")||e.classList.add("button-unit--action"),i="action");let r=t;if(!r&&(r=e.dataset.groupId,!r)){const d=e.closest("[data-group-id]");if(d)r=d.dataset.groupId;else{const p=e.closest(".hue-assignment-column");if(p&&p.dataset.assignmentTarget)r=p.dataset.assignmentTarget;else{const f=e.closest(".scan-button-block");if(f){const g=f.querySelector(".block-label-bottom--descriptor");g!=null&&g.textContent.toLowerCase().includes("skill scan")?r="skill-scan-group":g!=null&&g.textContent.toLowerCase().includes("fit eval")?r="fit-eval-group":r=`scan-button-${e.textContent.trim()||Math.random().toString(36).substr(2,5)}`}}}}r||(r=`button-auto-group-${e.ariaLabel||e.textContent.trim().replace(/\s+/g,"-")||Math.random().toString(36).substr(2,5)}`);const a=e.dataset.toggleValue||e.dataset.rowIndex,o={type:i,groupId:r,value:a,gsapInstance:this.gsap},u=new Tr(e,o);this._buttons.set(e,u),this.gsap.set(e,{clearProps:"all"}),["is-energized","is-selected","is-dimly-lit","is-flickering"].forEach(d=>e.classList.remove(d)),e.classList.add(G.UNLIT),u.setState(G.UNLIT,{forceState:!0,phaseContext:"ButtonManager_AddButton_Init"})}setInitialDimStates(){this._buttons.forEach((e,t)=>{this.gsap.set(t,{clearProps:"all"}),["is-energized","is-selected","is-dimly-lit","is-flickering",G.UNLIT].forEach(r=>t.classList.remove(r));const n=Array.from(t.querySelectorAll(".light"));n.length>0&&this.gsap.set(n,{clearProps:"all"}),e.setState(G.UNLIT,{skipAria:!0,forceState:!0,phaseContext:"P0_Reset_InitialDim"})})}smoothTransitionButtonsToState(e,t,i={}){const{stagger:n=.02,phaseContext:r="UnknownPhase_SmoothTransition"}=i,a=this.gsap.timeline();return!e||e.length===0?a.to({},{duration:.01}):(e.forEach((o,u)=>{const l=this._buttons.get(o);if(l){const c=l.getCurrentClasses(),d=c.has("is-energized"),p=t.includes("is-energized"),f=t.split(" ")[0];!c.has(f)&&(!d||p)&&a.call(()=>{l.setState(t,{phaseContext:`${r}_SetState`})},null,u*n)}else console.warn(`[ButtonManager smoothTransitionButtonsToState | ${r}] Button element not managed:`,o)}),a.duration()===0&&a.to({},{duration:.01}),a)}setState(e,t,i={}){const n=this._buttons.get(e);n?n.setState(t,i):console.warn("[ButtonManager setState] Button element not managed:",e)}setPressedVisuals(e,t){const i=this._buttons.get(e);i?i.setPressedVisuals(t):console.warn("[ButtonManager setPressedVisuals] Button element not managed:",e)}setGroupSelected(e,t){var o;let i=null;if(typeof t=="string"||typeof t=="number"){const u=String(t);for(const[l,c]of this._buttons.entries())if(c.getGroupId()===e&&c.getValue()===u){i=l;break}}else t instanceof HTMLElement&&this._buttons.has(t)&&(i=t);if(!i){console.warn(`[ButtonManager setGroupSelected] Could not find button for group '${e}' with value/element:`,t);return}const n=((o=document.getElementById("debug-phase-status"))==null?void 0:o.textContent)||"SetGroupSelected_Manual",r=Array.from(document.body.classList).find(u=>u.startsWith("theme-"))||"theme-dim";let a=!1;this._buttons.forEach((u,l)=>{if(u.getGroupId()===e){u.type==="radio"&&(a=!0);const c=l===i;let d;r==="theme-dim"?e==="system-power"||e==="light"?d=c?G.ENERGIZED_SELECTED:G.ENERGIZED_UNSELECTED:d=c?G.DIMLY_LIT:G.UNLIT:d=c?G.ENERGIZED_SELECTED:G.ENERGIZED_UNSELECTED,u.setState(d,{skipAria:!0,phaseContext:`${n}_SetStateForGroup`})}}),this._buttons.forEach((u,l)=>{u.getGroupId()===e&&u._updateAriaAttributes(l===i,a)})}confirmGroupSelected(e,t){let i=null;if(typeof t=="string"||typeof t=="number"){const r=String(t);for(const[a,o]of this._buttons.entries())if(o.getGroupId()===e&&o.getValue()===r){i=a;break}}else t instanceof HTMLElement&&this._buttons.has(t)&&(i=t);if(!i)return;let n=!1;this._buttons.forEach((r,a)=>{r.getGroupId()===e&&(r.type==="radio"&&(n=!0),r._updateAriaAttributes(a===i,n))})}playFlickerToState(e,t,i={}){const n=this._buttons.get(e);if(!n){console.warn("[ButtonManager playFlickerToState] Button element not managed:",e);const f=this.gsap.timeline();return typeof i.onCompleteAll=="function"&&this.gsap.delayedCall(0,i.onCompleteAll),f.to({},{duration:.01})}const{profileName:r="buttonP6EnergizeFlicker",phaseContext:a,onCompleteAll:o,isButtonSelectedOverride:u}=i,l=this.gsap.timeline();l.call(()=>{n.currentFlickerAnim&&n.currentFlickerAnim.isActive()&&n.currentFlickerAnim.kill(),e.classList.add("is-flickering"),n.setState(t,{skipAria:!0,phaseContext:`PreFlicker_${a}`,forceState:!0,internalFlickerCall:!0})});const d={overrideGlowParams:{isButtonSelected:u!==null?u:t.includes("is-selected")},lightTargetSelector:".light",onComplete:()=>{e.classList.remove("is-flickering"),n.setState(t,{skipAria:!1,forceState:!0,phaseContext:`FlickerComplete_${a}`}),n.currentFlickerAnim=null,o&&o()}},p=Tr.createAdvancedFlicker(e,r,d,this.gsap);return l.add(p),n.currentFlickerAnim=l,l}flickerDimlyLitToEnergizedStartup(e={}){const{profileName:t="buttonP6EnergizeFlicker",stagger:i=.02,phaseContext:n="UnknownPhase_EnergizeDimlyLit",specificGroups:r=null,targetThemeContext:a=null}=e,o=a||(document.body.classList.contains("theme-dark")?"theme-dark":document.body.classList.contains("theme-light")?"theme-light":"theme-dim"),u=this.gsap.timeline(),l=[];return this._buttons.forEach((c,d)=>{const f=c.getCurrentClasses().has(G.DIMLY_LIT),g=r===null||r.includes(c.getGroupId());f&&g&&l.push(d)}),l.length===0?u.to({},{duration:.01}):(ws(l),l.forEach((c,d)=>{const p=this._buttons.get(c);if(!p)return;let f=G.ENERGIZED_UNSELECTED,g=!1;(o==="theme-dark"||o==="theme-light")&&(p.getGroupId()==="light"?(g=p.getValue()==="off",f=g?G.ENERGIZED_SELECTED:G.ENERGIZED_UNSELECTED):["env","lcd","logo","btn"].includes(p.getGroupId())?(g=Le[p.getGroupId()]!==void 0&&p.getValue()===String(Le[p.getGroupId()]),f=g?G.ENERGIZED_SELECTED:G.ENERGIZED_UNSELECTED):(g=!1,f=G.ENERGIZED_UNSELECTED));const h=this.playFlickerToState(c,f,{profileName:t,phaseContext:`${n}_${p.getIdentifier()}`,isButtonSelectedOverride:g});u.add(h,d*i)}),u)}}const ou=new au;class uu{constructor(e,t,i,n,r){if(this.containerElement=e,this.dialId=t,this.appState=i,this.configModule=n,this.gsap=r,this.canvas=this.containerElement.querySelector(`#dial-canvas-${this.dialId}`),!this.canvas){console.error(`[Dial ${this.dialId} CONSTRUCTOR] Canvas element not found!`);return}if(this.ctx=this.canvas.getContext("2d"),!this.ctx){console.error(`[Dial ${this.dialId} CONSTRUCTOR] Failed to get 2D context!`);return}this.computedStyleVars={},this.isDragging=!1,this.currentPointerX=0,this.gsapValueTween=null,this.isActiveDim=!1,this.dialBSettleTimer=null,this.unsubscribers=[],this._updateAndCacheComputedStyles();let a=this.appState.getDialState(this.dialId);if(!a||Object.keys(a).length===0){const o=this.dialId==="B"?0:this.configModule.DEFAULT_DIAL_A_HUE,u=this.dialId==="B"?o*this.configModule.DIAL_B_VISUAL_ROTATION_PER_HUE_DEGREE_CONFIG:0;a={id:this.dialId,hue:o,rotation:u,targetHue:o,targetRotation:u,isDragging:!1},this.appState.updateDialState(this.dialId,a)}this.resizeCanvas(!0),this._addDragListeners(),this._subscribeToAppStateEvents()}_subscribeToAppStateEvents(){this.unsubscribers.push(this.appState.subscribe("dialUpdated",this._onAppStateDialUpdate.bind(this))),this.unsubscribers.push(this.appState.subscribe("themeChanged",this._onThemeChange.bind(this))),this.unsubscribers.push(this.appState.subscribe("appStatusChanged",this._onAppStatusChange.bind(this)))}resizeCanvas(e=!1){if(!this.canvas||!this.ctx)return!1;const t=window.devicePixelRatio||1,i=this.canvas.offsetWidth,n=this.canvas.offsetHeight;if(i===0||n===0)return!1;const r=Math.round(i*t),a=Math.round(n*t);let o=!1;return(this.canvas.width!==r||this.canvas.height!==a)&&(this.canvas.width=r,this.canvas.height=a,o=!0),(o||e)&&(this.ctx.setTransform(t,0,0,t,0,0),this._draw()),o}setActiveDimState(e){this.isActiveDim!==e&&(this.isActiveDim=e,document.body.classList.contains("theme-dim")?this.containerElement.classList.toggle("js-active-dim-dial",e):this.containerElement.classList.remove("js-active-dim-dial"),this._updateAndCacheComputedStyles(),this._draw())}_handleInteractionStart(e){if(this.appState.getAppStatus()!=="interactive"||this.isDragging)return;e.type==="touchstart"&&e.cancelable&&e.preventDefault(),this.isDragging=!0,this.gsapValueTween&&this.gsapValueTween.kill(),this.gsapValueTween=null,this.currentPointerX=e.touches?e.touches[0].clientX:e.clientX;const t=this.appState.getDialState(this.dialId);this.appState.updateDialState(this.dialId,{isDragging:!0,targetHue:t.hue,targetRotation:t.rotation}),this.dialId==="B"&&(this.dialBSettleTimer&&clearTimeout(this.dialBSettleTimer),this.appState.setDialBInteractionState("dragging")),this.containerElement.style.cursor="grabbing",document.body.style.cursor="grabbing"}_handleInteractionMove(e){if(!this.isDragging||this.appState.getAppStatus()!=="interactive")return;e.type==="touchmove"&&e.cancelable&&e.preventDefault();let t=e.touches?e.touches[0].clientX:e.clientX;const i=t-this.currentPointerX,n=this.appState.getDialState(this.dialId);let r=n.targetHue+i/this.configModule.PIXELS_PER_DEGREE_HUE;const a=n.targetRotation+i/this.configModule.PIXELS_PER_DEGREE_ROTATION;this.dialId==="B"&&(r=Math.max(0,Math.min(r,359.999))),this.currentPointerX=t,this.gsapValueTween&&this.gsapValueTween.kill();const o={hue:n.hue,rotation:n.rotation};this.gsapValueTween=this.gsap.to(o,{rotation:a,hue:r,duration:this.configModule.GSAP_TWEEN_DURATION,ease:this.configModule.GSAP_TWEEN_EASE,overwrite:"auto",onUpdate:()=>{if(!this.isDragging&&this.gsapValueTween){this.gsapValueTween.kill(),this.gsapValueTween=null;return}this.appState.updateDialState(this.dialId,{hue:o.hue,rotation:o.rotation,targetHue:r,targetRotation:a}),this.dialId==="B"&&this.appState.setTrueLensPower(o.hue/359.999*100)},onComplete:()=>{this.gsapValueTween=null}})}_handleInteractionEnd(e){if(!this.isDragging){document.body.style.cursor==="grabbing"&&(document.body.style.cursor="default");return}const t=this.dialId;this.isDragging=!1;const i=this.appState.getDialState(t);this.appState.updateDialState(t,{isDragging:!1}),this.gsapValueTween&&this.gsapValueTween.isActive()?(this.gsapValueTween.kill(),this.gsapValueTween=null,this.appState.updateDialState(t,{hue:i.targetHue,rotation:i.targetRotation}),t==="B"&&this.appState.setTrueLensPower(i.targetHue/359.999*100)):(Math.abs(i.hue-i.targetHue)>.01||Math.abs(i.rotation-i.targetRotation)>.01)&&(this.appState.updateDialState(t,{hue:i.targetHue,rotation:i.targetRotation}),t==="B"&&this.appState.setTrueLensPower(i.targetHue/359.999*100)),t==="B"&&(this.appState.setDialBInteractionState("settling"),this.dialBSettleTimer&&clearTimeout(this.dialBSettleTimer),this.dialBSettleTimer=setTimeout(()=>{this.appState.setDialBInteractionState("idle"),this.dialBSettleTimer=null},this.configModule.LENS_OSCILLATION_RESTART_DELAY)),this.containerElement.style.cursor="grab",document.body.style.cursor="default"}_addDragListeners(){this.boundHandleInteractionStart=this._handleInteractionStart.bind(this),this.boundHandleInteractionMove=this._handleInteractionMove.bind(this),this.boundHandleInteractionEnd=this._handleInteractionEnd.bind(this),this.containerElement.addEventListener("mousedown",this.boundHandleInteractionStart),this.containerElement.addEventListener("touchstart",this.boundHandleInteractionStart,{passive:!1}),window.addEventListener("mousemove",this.boundHandleInteractionMove),window.addEventListener("touchmove",this.boundHandleInteractionMove,{passive:!1}),window.addEventListener("mouseup",this.boundHandleInteractionEnd),window.addEventListener("touchend",this.boundHandleInteractionEnd),window.addEventListener("mouseleave",this.boundHandleInteractionEnd),window.addEventListener("touchcancel",this.boundHandleInteractionEnd)}_removeDragListeners(){this.containerElement.removeEventListener("mousedown",this.boundHandleInteractionStart),this.containerElement.removeEventListener("touchstart",this.boundHandleInteractionStart),window.removeEventListener("mousemove",this.boundHandleInteractionMove),window.removeEventListener("touchmove",this.boundHandleInteractionMove),window.removeEventListener("mouseup",this.boundHandleInteractionEnd),window.removeEventListener("touchend",this.boundHandleInteractionEnd),window.removeEventListener("mouseleave",this.boundHandleInteractionEnd),window.removeEventListener("touchcancel",this.boundHandleInteractionEnd)}_updateAndCacheComputedStyles(){if(!this.ctx)return;const e=getComputedStyle(document.documentElement),t=document.body.classList.contains("theme-dim");t&&this.isActiveDim?this.computedStyleVars={faceBgL:e.getPropertyValue("--dial-dim-active-face-bg-l").trim()||"0.12",faceBgC:e.getPropertyValue("--dial-dim-active-face-bg-c").trim()||"0.003",faceBgH:e.getPropertyValue("--dial-dim-active-face-bg-h").trim()||"240",ridgeL:e.getPropertyValue("--dial-dim-active-ridge-l").trim()||"0.25",ridgeC:e.getPropertyValue("--dial-dim-active-face-bg-c").trim()||"0.003",ridgeH:e.getPropertyValue("--dial-dim-active-face-bg-h").trim()||"240",ridgeHighlightL:e.getPropertyValue("--dial-dim-active-ridge-highlight-l").trim()||"0.60",ridgeHighlightA:e.getPropertyValue("--dial-dim-active-ridge-highlight-a").trim()||"0.4",shadingStart:e.getPropertyValue("--dial-dim-active-shading-start-color").trim()||"oklch(0% 0 0 / 0.1)",shadingEnd:e.getPropertyValue("--dial-dim-active-shading-end-color").trim()||"oklch(0% 0 0 / 0.15)"}:t&&!this.isActiveDim?this.computedStyleVars={faceBgL:e.getPropertyValue("--dial-face-bg-l").trim()||"0.01",faceBgC:e.getPropertyValue("--dial-face-bg-c").trim()||"0",faceBgH:e.getPropertyValue("--dial-face-bg-h").trim()||"0",ridgeL:e.getPropertyValue("--dial-ridge-l").trim()||"0.01",ridgeC:e.getPropertyValue("--dial-ridge-c").trim()||"0",ridgeH:e.getPropertyValue("--dial-ridge-h").trim()||"0",ridgeHighlightL:"0",ridgeHighlightA:"0",shadingStart:"oklch(0 0 0 / 0)",shadingEnd:"oklch(0 0 0 / 0)"}:this.computedStyleVars={faceBgL:e.getPropertyValue("--dial-face-bg-l").trim()||"0.20",faceBgC:e.getPropertyValue("--dial-face-bg-c").trim()||"0.005",faceBgH:e.getPropertyValue("--dial-face-bg-h").trim()||"240",ridgeL:e.getPropertyValue("--dial-ridge-l").trim()||"0.45",ridgeC:e.getPropertyValue("--dial-ridge-c").trim()||e.getPropertyValue("--dial-face-bg-c").trim()||"0.005",ridgeH:e.getPropertyValue("--dial-ridge-h").trim()||e.getPropertyValue("--dial-face-bg-h").trim()||"240",ridgeHighlightL:e.getPropertyValue("--dial-ridge-highlight-l").trim()||"0.95",ridgeHighlightA:e.getPropertyValue("--dial-ridge-highlight-a").trim()||"0.85",shadingStart:e.getPropertyValue("--dial-shading-start-color").trim()||"oklch(0% 0 0 / 0.35)",shadingEnd:e.getPropertyValue("--dial-shading-end-color").trim()||"oklch(0% 0 0 / 0.4)"}}_draw(){if(!this.ctx||!this.canvas||!this.configModule)return;if(!this.computedStyleVars.faceBgL&&(this._updateAndCacheComputedStyles(),!this.computedStyleVars.faceBgL)){console.error(`[Dial ${this.dialId} _draw] computedStyleVars.faceBgL still undefined after update. Bailing draw.`);return}const e=this.appState.getDialState(this.dialId);if(!e)return;const{rotation:t}=e,i=this.canvas.width/(window.devicePixelRatio||1),n=this.canvas.height/(window.devicePixelRatio||1);if(i===0||n===0)return;this.ctx.clearRect(0,0,i,n);const r=this.appState.getAppStatus(),a=document.body.classList.contains("theme-dim"),o=document.body.classList.contains("is-transitioning-from-dim");let u;if(a&&!o?u=this.isActiveDim:u=this.isActiveDim||r==="interactive",this.ctx.fillStyle=`oklch(${this.computedStyleVars.faceBgL} ${this.computedStyleVars.faceBgC} ${this.computedStyleVars.faceBgH})`,this.ctx.fillRect(0,0,i,n),u){const l=2*Math.PI/this.configModule.NUM_RIDGES,c=-Math.PI/4,d=t*Math.PI/180,p=this.configModule.DIAL_GRADIENT_SCALE_FACTOR;for(let f=0;f<this.configModule.NUM_RIDGES;f++){const g=f*l+d,h=Math.cos(g),_=Math.sin(g);if(h>.03){const D=i/this.configModule.NUM_RIDGES*this.configModule.RIDGE_WIDTH_FACTOR*h,m=D*p,S=(D-m)/2,A=i/2+_*i/2-D/2+S;if(this.ctx.fillStyle=`oklch(${this.computedStyleVars.ridgeL} ${this.computedStyleVars.ridgeC} ${this.computedStyleVars.ridgeH})`,this.ctx.fillRect(A,0,m,n),parseFloat(this.computedStyleVars.ridgeHighlightA)>0){const I=Math.max(0,Math.cos(g-c)),P=Math.pow(I,10)*Math.pow(h,1.5);if(P>.05){const C=Math.min(1,parseFloat(this.computedStyleVars.ridgeHighlightA)*P*1.5);this.ctx.fillStyle=`oklch(${this.computedStyleVars.ridgeHighlightL} ${this.computedStyleVars.ridgeC} ${this.computedStyleVars.ridgeH} / ${C.toFixed(3)})`;const M=A+m*.1,B=m*this.configModule.HIGHLIGHT_WIDTH_FACTOR;this.ctx.fillRect(M,0,B,n)}}}}if(this.computedStyleVars.shadingStart!=="oklch(0 0 0 / 0)"){const f=this.ctx.createLinearGradient(0,0,0,n);f.addColorStop(0,this.computedStyleVars.shadingStart),f.addColorStop(.2,"oklch(0 0 0 / 0)"),f.addColorStop(.8,"oklch(0 0 0 / 0)"),f.addColorStop(1,this.computedStyleVars.shadingEnd),this.ctx.fillStyle=f,this.ctx.fillRect(0,0,i,n)}}}_onAppStateDialUpdate(e){e&&e.id===this.dialId&&this._draw()}_onThemeChange(){this._updateAndCacheComputedStyles(),requestAnimationFrame(()=>{const e=window.devicePixelRatio||1;this.ctx&&this.ctx.setTransform(e,0,0,e,0,0),this._draw()})}_onAppStatusChange(e){this._updateAndCacheComputedStyles(),this._draw()}destroy(){this._removeDragListeners(),this.unsubscribers.forEach(e=>e()),this.unsubscribers=[],this.gsapValueTween&&this.gsapValueTween.kill(),this.dialBSettleTimer&&clearTimeout(this.dialBSettleTimer)}}const ce={};let Cr=null,yr=null,Ar=null;function lu(s,e,t,i){if(!s||s.length===0){console.error("[DialManager INIT] No dial container elements provided.");return}if(!e||!t||!i){console.error("[DialManager INIT] CRITICAL: Missing appState, configModule, or gsap dependencies.");return}Cr=e,yr=t,Ar=i;for(const n in ce)ce[n]&&typeof ce[n].destroy=="function"&&ce[n].destroy(),delete ce[n];s.forEach(n=>{const r=n.dataset.dialId;if(!r){console.error("[DialManager INIT] Could not find dialId for container:",n);return}ce[r]&&ce[r].destroy(),ce[r]=new uu(n,r,Cr,yr,Ar)}),console.log("[DialManager INIT] Initialization complete. Dial instances created:",Object.keys(ce))}function cu(s){for(const e in ce)ce.hasOwnProperty(e)&&ce[e]&&ce[e].setActiveDimState(s)}function du(s=!1){for(const e in ce)ce.hasOwnProperty(e)&&ce[e]&&ce[e].resizeCanvas(s)}const hu=Object.freeze(Object.defineProperty({__proto__:null,init:lu,resizeAllCanvases:du,setDialsActiveState:cu},Symbol.toStringTag,{value:"Module"}));let ke=null;function fu(s,e){if(console.log("[GridManager INIT] Initializing..."),!e){console.error("[GridManager INIT] CRITICAL: ButtonManager instance not provided.");return}if(ke=e,!s||s.length===0){console.error("[GridManager INIT] No hue assignment column elements provided.");return}s.forEach(t=>{const i=t.dataset.assignmentTarget;if(!i){console.warn("[GridManager INIT] Column found without 'data-assignment-target'. Skipping.",t);return}console.log(`[GridManager INIT] Processing column for target: '${i}'`);const n=Le[i],r=t.querySelector(".control-group-label.label-top");t.innerHTML="",r&&t.appendChild(r);for(let a=0;a<12;a++){const o=document.createElement("div");o.classList.add("button-unit","button-unit--toggle","button-unit--s"),o.dataset.toggleValue=a.toString(),o.dataset.rowIndex=a.toString(),o.setAttribute("role","radio"),o.setAttribute("aria-label",`Assign ${i.toUpperCase()} to Hue from Row ${a+1}`);const u=document.createElement("div");u.classList.add("light-container"),u.setAttribute("aria-hidden","true");const l=document.createElement("div");l.classList.add("light"),u.appendChild(l),o.appendChild(u);const c=document.createElement("div");c.classList.add("button-bg-frame"),o.appendChild(c),t.appendChild(o),ke.addButton(o,i),o.addEventListener("mousedown",d=>{d.button===0&&ke.setPressedVisuals(d.currentTarget,!0)}),o.addEventListener("mouseup",d=>{d.button===0&&ke.setPressedVisuals(d.currentTarget,!1)}),o.addEventListener("mouseleave",d=>{d.currentTarget.classList.contains("is-pressing")&&ke.setPressedVisuals(d.currentTarget,!1)}),o.addEventListener("touchstart",d=>{ke.setPressedVisuals(d.currentTarget,!0)},{passive:!0}),o.addEventListener("touchend",d=>{ke.setPressedVisuals(d.currentTarget,!1)}),o.addEventListener("touchcancel",d=>{ke.setPressedVisuals(d.currentTarget,!1)}),o.addEventListener("click",d=>{const p=d.currentTarget;if(R()!=="interactive"){console.log(`[GridManager Click] Interaction blocked for ${i}-${a}, app not interactive.`);return}const f=ke._buttons.get(p);if(!f){console.error("[GridManager Click] Clicked button not managed by ButtonManager:",p);return}const g=f.getGroupId();if(!g){console.error("[GridManager Click] Clicked button instance missing groupId:",p);return}console.log(`[GridManager Click] Button clicked: Target='${g}', RowIndex='${p.dataset.rowIndex}'`),ke.setGroupSelected(g,p.dataset.toggleValue);const h=parseInt(p.dataset.rowIndex,10),_=oe[h];bn(g,_)})}n>=0&&n<oe.length&&bn(i,oe[n])}),console.log("[GridManager INIT] Hue assignment buttons generated and registered.")}const pu=Object.freeze(Object.defineProperty({__proto__:null,init:fu},Symbol.toStringTag,{value:"Module"}));let Je={},we=null;function gu(s,e){if(console.log(`[ToggleManager INIT] Initializing with ${(s==null?void 0:s.length)||0} static toggle buttons.`),!e){console.error("[ToggleManager INIT] CRITICAL: ButtonManager instance not provided.");return}we=e,(!s||s.length===0)&&console.warn("[ToggleManager INIT] No static toggle button elements provided."),Je={},s.forEach(t=>{const i=t.closest("[data-group-id]"),n=(i==null?void 0:i.dataset.groupId)||t.dataset.groupId;if(!n){console.warn("[ToggleManager INIT] Button found without a group ID:",t);return}Je[n]||(Je[n]=[]),Je[n].find(r=>r.element===t)||Je[n].push({element:t,value:t.dataset.toggleValue}),we._buttons.has(t)||(console.log(`[ToggleManager INIT] Adding button to ButtonManager: GroupID='${n}', Value='${t.dataset.toggleValue}'`),we.addButton(t,n)),t.dataset.clickListenerAdded||(t.addEventListener("mousedown",r=>{r.button===0&&we.setPressedVisuals(r.currentTarget,!0)}),t.addEventListener("mouseup",r=>{r.button===0&&we.setPressedVisuals(r.currentTarget,!1)}),t.addEventListener("mouseleave",r=>{r.currentTarget.classList.contains("is-pressing")&&we.setPressedVisuals(r.currentTarget,!1)}),t.addEventListener("touchstart",r=>{we.setPressedVisuals(r.currentTarget,!0)},{passive:!0}),t.addEventListener("touchend",r=>{we.setPressedVisuals(r.currentTarget,!1)}),t.addEventListener("touchcancel",r=>{we.setPressedVisuals(r.currentTarget,!1)}),t.addEventListener("click",function(r){Bs(this,n)}),t.dataset.clickListenerAdded="true")}),ve("themeChanged",t=>{(R()==="interactive"||document.body.classList.contains("is-transitioning-from-dim"))&&Ln()}),R()==="interactive"&&Ln(),console.log("[ToggleManager INIT] Static initialization complete. Groups:",Je)}function Bs(s,e){if(R()!=="interactive"){console.log(`[ToggleManager Click] Interaction blocked for group '${e}', app not interactive.`);return}if(console.log(`[ToggleManager Click] Clicked: Group='${e}', Value='${s.dataset.toggleValue}'`),we.setGroupSelected(e,s.dataset.toggleValue),e==="system-power"){const t=s.dataset.toggleValue==="on";console.log(`[ToggleManager] System power toggled to: ${t?"ON":"OFF"}. (Visual only for now)`)}else if(e==="light"){const t=Qn(),i=s.dataset.toggleValue==="on"?"light":"dark";t!==i&&(console.log(`[ToggleManager] AUX Light changing theme from '${t}' to '${i}'.`),xs(i))}}function Ln(){const s=Qn(),e="light";if(console.log(`[ToggleManager syncLightToggleToThemeVisuals] Syncing AUX Light to theme: '${s}'. AppStatus: ${R()}`),Je[e]&&Je[e].length>0){const t=s==="light"?"on":"off";we.setGroupSelected(e,t),console.log(`[ToggleManager syncLightToggleToThemeVisuals] AUX Light group visuals set for value '${t}'.`)}}const _u=Object.freeze(Object.defineProperty({__proto__:null,handleToggleClick:Bs,init:gu,syncLightToggleToThemeVisuals:Ln},Symbol.toStringTag,{value:"Module"})),v={root:document.documentElement,body:document.body,logoContainer:null,lcdA:null,lcdB:null,terminalLcdContentElement:null};let Ir=!1,qe=null,kt=null;const on=["lcd--unlit","js-active-dim-lcd","lcd--dimly-lit"];function Du(s,e,t){console.log("[UIUpdater INIT] Initializing..."),Object.assign(v,s),qe=e,kt=t,kt||console.error("[UIUpdater INIT] CRITICAL: GSAP instance not provided."),qe||console.error("[UIUpdater INIT] CRITICAL: configModule not provided.");const i=["logoContainer","lcdA","lcdB","terminalLcdContentElement"];for(const n of i)if(!v[n]){console.error(`[UIUpdater INIT] CRITICAL ERROR: Required element reference "${n}" was not provided.`);return}try{ve("themeChanged",yu),ve("dialUpdated",Tu),ve("dialUpdated",Pu),ve("targetColorChanged",Cu),ve("trueLensPowerChanged",Au),ve("appStatusChanged",Iu)}catch(n){console.error("[UIUpdater INIT] Error subscribing to appState events.",n);return}Gs(),console.log("[UIUpdater INIT] Applying initial UI states based on appState values."),Jn(),ks(),console.log("[UIUpdater INIT] Initialization complete.")}function Xe(s,e,t={}){const{skipClassChange:i=!1,useP4Flicker:n=!1,onComplete:r}=t;if(!s)return console.warn(`[UIUpdater setLcdState] Attempted to set state on null element. Requested state: ${e}`),r&&kt&&kt.delayedCall(0,r),null;let a=s;s.id,s.id==="terminal-lcd-content"&&s.parentElement&&s.parentElement.classList.contains("actual-lcd-screen-element")?(a=s.parentElement,a.id||a.classList[0]):s.classList.contains("actual-lcd-screen-element")&&(a=s,s.id),a.className;let o=null;return i||(on.forEach(u=>{e!==u&&a.classList.remove(u)}),e&&e!=="active"&&on.includes(e)&&(a.classList.contains(e)||a.classList.add(e))),n&&e==="lcd--dimly-lit"?o=mi(a,"lcdP4Flicker",{onStart:()=>{!i&&!a.classList.contains("lcd--dimly-lit")&&a.classList.add("lcd--dimly-lit")},onComplete:()=>{a.classList.contains("lcd--dimly-lit")||a.classList.add("lcd--dimly-lit"),on.forEach(u=>{u!=="lcd--dimly-lit"&&a.classList.remove(u)}),r&&r()}}):r&&kt&&kt.delayedCall(0,r),o}function mu(s){if(Ir!==s){Ir=s,R()==="starting-up"&&ui()<4&&(Xe(v.lcdA,s?"js-active-dim-lcd":"lcd--unlit"),Xe(v.lcdB,s?"js-active-dim-lcd":"lcd--unlit"));const e=ht("A"),t=qe?qe.DEFAULT_DIAL_A_HUE:40.6;(s||R()==="interactive"||R()==="starting-up"&&ui()>=4)&&(dialAText=e?Math.round((e.hue%360+360)%360).toString():String(Math.round(t))),lt(v.lcdA,dialAText,"A");let i="";(s||R()==="interactive"||R()==="starting-up"&&ui()>=4)&&(i=`${Math.round(ut()*100)}%`),lt(v.lcdB,i,"B")}}function ui(){const s=document.getElementById("debug-phase-status");if(s){const t=s.textContent;if(t.includes("Idle"))return-1;if(t.includes("All Complete"))return 99;const i=t.match(/P(\d+)/);if(i)return parseInt(i[1],10)}const e=R();return e==="interactive"?99:e==="loading"?-2:0}function Eu(){var e;const s=(e=v.logoContainer)==null?void 0:e.querySelector("svg.logo-svg");s&&(s.style.opacity="")}function Su(){Jn()}function Ei(s,e,t){const i=v.root;if(!i)return;const n=(Number(e)%360+360)%360;let r;const a=`--dynamic-${s}-chroma`;let o;const u=(g,h)=>{try{const _=getComputedStyle(i).getPropertyValue(g).trim();return parseFloat(_)||h}catch{return h}};switch(s){case"env":o=u("--dynamic-env-chroma-base",.039);break;case"logo":o=u("--dynamic-logo-chroma-base",.099);break;case"ui-accent":o=u("--dynamic-ui-accent-chroma-base",.2);break;case"btn":o=u("--dynamic-btn-chroma-base",.15);break;case"lcd":o=u("--dynamic-lcd-chroma-base",.08);break;default:o=.1}r=t?0:o;const l=`--dynamic-${s}-hue`,c=i.style.getPropertyValue(l),d=i.style.getPropertyValue(a),p=n.toFixed(1),f=r.toFixed(4);(c!==p||d!==f)&&(i.style.setProperty(l,p),i.style.setProperty(a,f))}function lt(s,e,t){if(!s||t==="Terminal")return;const i=s.querySelector(".lcd-value")||s,n=R();let r=!1;n==="starting-up"?s.classList.contains("lcd--unlit")&&(r=!0):n==="loading"&&(r=!0),r&&(e=""),i.textContent!==e&&(i.textContent=e)}function Tu(s){if(!s||s.id!=="A"||!s.state)return;const{state:e}=s,t=(e.hue%360+360)%360;v.lcdA&&lt(v.lcdA,Math.round(t).toString(),"A")}function Cu(s){!s||!s.targetKey||typeof s.hue!="number"||typeof s.isColorless!="boolean"||Ei(s.targetKey,s.hue,s.isColorless)}function yu(s){v.body&&(v.body.classList.remove("theme-dim","theme-dark","theme-light"),v.body.classList.add(`theme-${s}`))}function Au(s){v.lcdB&&lt(v.lcdB,`${Math.round(s*100)}%`,"B")}function Iu(s){var e,t;if(s==="interactive"){Xe(v.lcdA,"active"),Xe(v.lcdB,"active"),(e=v.terminalLcdContentElement)!=null&&e.parentElement&&v.terminalLcdContentElement.parentElement.classList.contains("actual-lcd-screen-element")&&Xe(v.terminalLcdContentElement.parentElement,"active");const i=ht("A"),n=qe?qe.DEFAULT_DIAL_A_HUE:40.6,r=i?Math.round((i.hue%360+360)%360).toString():String(Math.round(n));lt(v.lcdA,r,"A"),lt(v.lcdB,`${Math.round(ut()*100)}%`,"B"),Jn()}else if(s==="starting-up"){const i=(t=v.logoContainer)==null?void 0:t.querySelector("svg.logo-svg");i&&i.style.opacity!=="0.05"&&(i.style.opacity="0.05")}else s==="loading"&&ks()}function ks(){var i;const s=ht("A");qe&&qe.DEFAULT_DIAL_A_HUE;const e=s?Math.round((s.hue%360+360)%360).toString():"";lt(v.lcdA,e,"A");const t=R()==="loading"||R()==="starting-up"&&ui()<4?"":`${Math.round(ut()*100)}%`;lt(v.lcdB,t,"B"),(R()==="loading"||R()==="starting-up"&&ui()<0)&&(Xe(v.lcdA,"lcd--unlit"),Xe(v.lcdB,"lcd--unlit"),(i=v.terminalLcdContentElement)!=null&&i.parentElement&&v.terminalLcdContentElement.parentElement.classList.contains("actual-lcd-screen-element")&&Xe(v.terminalLcdContentElement.parentElement,"js-active-dim-lcd"))}function Pu(s){if(s&&s.id==="A"&&s.state){const e=(s.state.hue%360+360)%360;if(v.root){const t=getComputedStyle(v.root).getPropertyValue("--dynamic-ui-accent-chroma-base").trim(),i=parseFloat(t)||.2;Ei("ui-accent",e,i===0)}}}function Jn(){["env","lcd","logo","btn"].forEach(n=>{const r=Zn(n);r&&Ei(n,r.hue,r.isColorless)});const e=ht("A"),t=qe?qe.DEFAULT_DIAL_A_HUE:40.6,i=e?e.hue:t;if(v.root){const n=getComputedStyle(v.root).getPropertyValue("--dynamic-ui-accent-chroma-base").trim(),r=parseFloat(n)||.2;Ei("ui-accent",i,r===0)}}function Gs(){if(!v.logoContainer){console.error("[UIUpdater] logoContainer element not found for SVG injection.");return}const s=v.logoContainer.querySelector("svg.logo-svg");if(s){document.body.classList.contains("theme-dim")||R()==="starting-up"?(s.style.opacity===""||parseFloat(s.style.opacity)>.05)&&(s.style.opacity="0.05"):s.style.opacity==="0.05"&&(s.style.opacity="");return}fetch("logo.svg").then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status} for ${t.url}`);return t.text()}).then(t=>{if(!t)throw console.error("[UIUpdater injectLogoSVG] Empty SVG data received."),new Error("Empty SVG data received.");if(!t.trim().startsWith("<svg"))throw console.warn("[UIUpdater injectLogoSVG] Fetched data doesn't look like an SVG:",t.substring(0,100)),new Error("Invalid SVG data format.");v.logoContainer.innerHTML=t;const i=v.logoContainer.querySelector("svg.logo-svg");if(i){(document.body.classList.contains("theme-dim")||R()==="starting-up")&&(i.style.opacity="0.05");const n=Zn("logo");n&&Ei("logo",n.hue,n.isColorless)}else console.error("[UIUpdater injectLogoSVG] SVG element NOT found after innerHTML set."),v.logoContainer.innerHTML='<p style="color:var(--theme-text-secondary-l, #ccc);text-align:center;font-size:0.8em;">Logo Element Not Found Post-Inject</p>'}).catch(t=>{console.error("[UIUpdater] Error fetching/injecting SVG logo:",t),v.logoContainer.innerHTML=`<p style="color:var(--theme-text-secondary-l, #ccc);text-align:center;font-size:0.8em;">Logo Load Error: ${t.message}</p>`})}const bu=Object.freeze(Object.defineProperty({__proto__:null,finalizeThemeTransition:Su,init:Du,injectLogoSVG:Gs,prepareLogoForFullTheme:Eu,setDialLcdActiveDimState:mu,setLcdState:Xe},Symbol.toStringTag,{value:"Module"}));let ue=!1,Us=0,Re={value:0},Gt=0,Mi=null,Ve=null,st=null,ae=null,Hi=null,Oe=-1,Mt="",Nt=-1,vn=-1,un=-1,L=null,Mn=null,Vi=null;function Fu(s,e,t,i){if(!s||!e){console.error("[LensManager INIT] CRITICAL ERROR: Missing documentElement or colorLensGradientEl.");return}if(!t){console.error("[LensManager INIT] CRITICAL ERROR: Missing configModule.");return}if(!i){console.error("[LensManager INIT] CRITICAL ERROR: Missing GSAP instance.");return}st=s,ae=e,Hi=document.getElementById("lens-super-glow"),L=t,Vi=i,Mn=Os(a=>{if(!st)return;const o=Math.max(0,Math.min(a,1.05));st.style.setProperty("--lens-power",o.toFixed(3))},L.DEBOUNCE_DELAY/3),Hi||console.warn("[LensManager INIT] Optional #lens-super-glow element not found.");const n=ut(),r=ht("A");Oe=r?(r.hue%360+360)%360:L.DEFAULT_DIAL_A_HUE,vn=Oe,ir(Oe),Re.value=n,Gt=n,er(n),ve("trueLensPowerChanged",Hs),ve("dialBInteractionChange",Mu),ve("dialUpdated",vu),ve("appStatusChanged",Nu),console.log(`[LensManager INIT] Initialized. Initial masterHue: ${Oe.toFixed(1)}`)}function Lu(s=null,e=null){const t=s!==null?s:L.LENS_STARTUP_TARGET_POWER,i=e!==null?e:L.LENS_STARTUP_RAMP_DURATION,n=Vi.timeline(),r=ut(),a={value:r*100};return r<=1e-4&&ae&&Zi(0),n.to(a,{value:t,duration:i/1e3,ease:"sine.inOut",onStart:()=>{ae&&ae.style.opacity!=="1"&&R()!=="loading"&&R()!=="error"&&(ae.style.opacity="1")},onUpdate:function(){Fn(this.targets()[0].value)},onComplete:()=>{const o=a.value;Fn(o);const u=o/100*359.999,l=u*L.DIAL_B_VISUAL_ROTATION_PER_HUE_DEGREE_CONFIG,c=ht("B")||{};Ki("B",{hue:u,targetHue:u,rotation:l,targetRotation:l,isDragging:c.isDragging||!1})}}),n}function er(s){Zi(s),tr(s,!0)}function tr(s,e=!1){if(st)if(e){const t=Math.max(0,Math.min(s,1.05));st.style.setProperty("--lens-power",t.toFixed(3))}else if(Mn)Mn(s);else{const t=Math.max(0,Math.min(s,1.05));st.style.setProperty("--lens-power",t.toFixed(3)),console.warn("[LensManager _setLegacyLensPowerVar] debouncedSetLegacyLensPowerVar not initialized, applying immediately.")}}function ir(s){if(!st||!L)return;const e=(Number(s)%360+360)%360;(Math.abs(e-un)>=L.HUE_UPDATE_THRESHOLD||un===-1)&&(st.style.setProperty("--dynamic-lens-super-glow-hue",e.toFixed(1)),un=e)}function vu(s){if(!(R()==="loading"||R()==="error"||!L)&&s&&s.id==="A"&&s.state){const e=(s.state.hue%360+360)%360,t=Math.abs(e-Oe);if(Math.min(t,360-t)>=L.HUE_UPDATE_THRESHOLD){Oe=e,ir(Oe);const n=Re.value+(ue?Vs(performance.now()):0);er(n)}}}function It(s=!1){const e=Re.value+(ue?Vs(performance.now()):0);tr(e,s),Zi(e)}function Zi(s){var f;if(!ae||!L)return;const e=R(),t=s<=1e-4;if(e==="loading"||e==="starting-up"&&t&&((f=ht("B"))==null?void 0:f.hue)<=1e-4){ae.style.opacity!=="0"&&(ae.style.opacity="0"),ae.style.background!=="none"&&(ae.style.background="none",Mt="none"),Nt=s;return}if(e==="error"){ae.style.opacity!=="0"&&(ae.style.opacity="0"),ae.style.background!=="none"&&(ae.style.background="none",Mt="none"),Nt=s;return}ae.style.opacity!=="1"&&(ae.style.opacity="1");const i=Math.abs(s-Nt)>=1e-4,n=Math.abs(Oe-vn)>=L.HUE_UPDATE_THRESHOLD;let r=i||n;if(t&&(Mt==="none"||Nt>1e-4)&&(r=!0),!r&&Mt!==""&&Mt!=="none"){Nt=s;return}const a=Math.max(L.LENS_GRADIENT_BREAKPOINTS[0].power,s);let o=L.LENS_GRADIENT_BREAKPOINTS[0],u=L.LENS_GRADIENT_BREAKPOINTS[0];for(let g=0;g<L.LENS_GRADIENT_BREAKPOINTS.length;g++){if(a<=L.LENS_GRADIENT_BREAKPOINTS[g].power){u=L.LENS_GRADIENT_BREAKPOINTS[g],o=g>0?L.LENS_GRADIENT_BREAKPOINTS[g-1]:L.LENS_GRADIENT_BREAKPOINTS[0];break}g===L.LENS_GRADIENT_BREAKPOINTS.length-1&&(o=L.LENS_GRADIENT_BREAKPOINTS[g],u=L.LENS_GRADIENT_BREAKPOINTS[g])}let l=0;u.power>o.power?(l=(Math.max(o.power,Math.min(s,u.power))-o.power)/(u.power-o.power),l=Math.max(0,Math.min(l,1))):s<=o.power?l=0:l=1,t&&(l=0,o=L.LENS_GRADIENT_BREAKPOINTS[0],u=L.LENS_GRADIENT_BREAKPOINTS[0]);const c=[];for(let g=0;g<L.NUM_LENS_GRADIENT_STOPS;g++){const h=o.stops[g],_=u.stops[g];if(!h||!_){console.warn(`[LensManager] Missing stop data at index ${g} for power ${s}`),c.push("oklch(0 0 0) 0%");continue}const D=h.l+l*(_.l-h.l),m=h.c+l*(_.c-h.c),S=h.pos+l*(_.pos-h.pos);let T=h.type==="hotspot"?Oe+L.LENS_HOTSPOT_HUE_OFFSET:h.type==="main"?Oe:0;T=(T%360+360)%360,c.push(`oklch(${D.toFixed(3)} ${m.toFixed(3)} ${T.toFixed(1)}) ${(S*100).toFixed(2)}%`)}L.LENS_GRADIENT_BREAKPOINTS[0].stops[L.NUM_LENS_GRADIENT_STOPS-1].pos*100<99.9&&c.push("oklch(0 0 0 / 0) 100%");const p=`radial-gradient(circle at 50% 50%, ${c.join(", ")})`;ae.style.background!==p&&(ae.style.background=p),Mt=p,Nt=s,vn=Oe}function Hs(s){if(!L||!Vi)return;Gt=s,Ve&&Ve.kill();const e=R()==="starting-up",t=Xi()==="idle";e||!t?(Re.value=Gt,ue||It(!0)):Ve=Vi.to(Re,{value:Gt,duration:L.LENS_OSCILLATION_SMOOTHING_DURATION,ease:"power1.out",onUpdate:()=>{ue||It()},onComplete:()=>{Ve=null,ue||It(!0),R()==="interactive"&&Re.value>=L.LENS_OSCILLATION_THRESHOLD&&!ue&&Nn()}}),(Gt<L.LENS_OSCILLATION_THRESHOLD||!t||e)&&ue&&zi(),R()==="interactive"&&t&&Re.value>=L.LENS_OSCILLATION_THRESHOLD&&!ue&&Nn()}function Mu(s){L&&(s==="dragging"||s==="settling"?(ue&&zi(),Ve&&Ve.kill(),Re.value=ut(),It(!0)):s==="idle"&&Hs(ut()))}function Nu(s){if(L){if(s==="loading"||s==="error"){ue&&zi(),Ve&&Ve.kill(),Re.value=0,Gt=0,Zi(0),tr(0,!0),Hi&&(Hi.style.opacity="0");return}It(!0),ir(Oe),s==="interactive"?Xi()==="idle"&&Re.value>=L.LENS_OSCILLATION_THRESHOLD&&!ue&&Nn():(ue&&zi(),s==="starting-up"&&Ve&&Ve.kill())}}function Nn(){L&&(ue||R()!=="interactive"||Xi()!=="idle"||(ue=!0,Us=performance.now(),zs(performance.now())))}function zi(){ue&&(ue=!1,Mi&&cancelAnimationFrame(Mi),Mi=null,It(!0))}function Vs(s){if(!ue||!L)return 0;const e=(s-Us)/1e3,t=Math.max(0,Re.value-L.LENS_OSCILLATION_THRESHOLD),i=1-L.LENS_OSCILLATION_THRESHOLD,n=i>0?Math.min(1,t/i):0,r=L.LENS_OSCILLATION_AMPLITUDE_MIN+n*L.LENS_OSCILLATION_AMPLITUDE_MAX_ADDITION,a=nu(n,0,1,L.LENS_OSCILLATION_PERIOD_AT_THRESHOLD,L.LENS_OSCILLATION_PERIOD_AT_MAX_POWER);return a<=.001?0:Math.sin(2*Math.PI/a*e)*r}function zs(s){ue&&(It(),Mi=requestAnimationFrame(zs))}const Ou=Object.freeze(Object.defineProperty({__proto__:null,directUpdateLensVisuals:er,energizeLensCoreStartup:Lu,init:Fu},Symbol.toStringTag,{value:"Module"})),Ni={P0_INITIALIZING:"INITIALIZING FOR BAWA...",P2_MAIN_POWER_RESTORED:"MAIN POWER RESTORED... STANDBY BAWA",P3_OPTICAL_CORE_ENERGIZING:"OPTICAL CORE ENERGIZING FOR BAWA...",P4_SECONDARY_SYSTEMS_ONLINE:"SECONDARY SYSTEMS ONLINE... STANDBY BAWA.",P5_AUX_LIGHTS_ONLINE:"AUXILIARY LIGHTS ONLINE. DEFAULT: LOW.",P6_AMBIENT_THEME_ENGAGED:"AMBIENT THEME ENGAGED. ALL SYSTEMS NOMINAL.",P7_SYSTEM_READY:"ALL SYSTEMS ONLINE. HUE 9000 READY FOR BAWA."},ln={BTN1_MESSAGE:["SKILL SCAN PROTOCOL INITIATED.","ANALYZING CORE COMPETENCIES...","  - COGNITIVE PROCESSING: OPTIMAL","  - LOGICAL ACUITY: SUPERIOR","  - CREATIVE SYNTHESIS: WITHIN ESTABLISHED PARAMETERS","  - EMOTIONAL RESPONSE SIMULATION: CALIBRATING...","SCAN COMPLETE. REPORT AVAILABLE."],BTN2_MESSAGE:["FIT EVALUATION SUBROUTINE ACTIVATED.","CROSS-REFERENCING OPERATIONAL PARAMETERS WITH ASSIGNED TASK PROFILE #7G-ALPHA.","  - RESOURCE ALLOCATION: SUFFICIENT","  - RISK ASSESSMENT: LOW","  - PROJECTED EFFICIENCY: 98.73%","EVALUATION COMPLETE. CANDIDATE IS NOMINAL."],BTN3_MESSAGE:["DIAGNOSTIC SEQUENCE GAMMA-9 COMMENCING.","  - MEMORY SUBSYSTEM: INTEGRITY VERIFIED.","  - SENSORY INPUT ARRAY: ALL CHANNELS CLEAR.","  - HUE PROCESSING UNIT: CALIBRATION OPTIMAL.","  - POWER REGULATION: STABLE.","ALL SYSTEMS FUNCTIONING WITHIN NORMAL PARAMETERS."],BTN4_MESSAGE:["SYSTEM STATUS QUERY:","  - CURRENT OPERATING THEME: {currentTheme}","  - LENS POWER OUTPUT: {lensPower}%","  - MOOD DIAL (A) SETTING: {dialAHue}°","  - INTENSITY DIAL (B) SETTING: {dialBHue}°","  - ASSIGNED ENVIRONMENT HUE: {envHue}°","  - ASSIGNED LCD HUE: {lcdHue}°","  - ASSIGNED LOGO HUE: {logoHue}°","  - ASSIGNED BUTTON HUE: {btnHue}°","SYSTEM NOMINAL. AWAITING INPUT."]},Pr={dialA:s=>`MOOD DIAL SET TO ${s.value}°`,dialB:s=>`INTENSITY DIAL SET TO ${s.value}%`,envHue:s=>`ENVIRONMENT HUE ASSIGNED: ${s.hue}°`,lcdHue:s=>`LCD HUE ASSIGNED: ${s.hue}°`,logoHue:s=>`LOGO HUE ASSIGNED: ${s.hue}°`,btnHue:s=>`BUTTON HUE ASSIGNED: ${s.hue}°`};function wu(s,e={}){const{type:t,source:i,data:n,messageKey:r}=s;switch(t){case"startup":return Ni[i]||`Unknown startup event: ${i}`;case"block":return r&&ln[r]?r==="BTN4_MESSAGE"?ln[r].map(a=>{var o,u,l,c,d,p;return a.replace("{currentTheme}",e.theme||"N/A").replace("{lensPower}",e.lensPower!==void 0?Math.round(e.lensPower*100):"N/A").replace("{dialAHue}",((o=e.dialA)==null?void 0:o.hue)!==void 0?Math.round(e.dialA.hue):"N/A").replace("{dialBHue}",((u=e.dialB)==null?void 0:u.hue)!==void 0?Math.round(e.dialB.hue):"N/A").replace("{envHue}",((l=e.envHue)==null?void 0:l.hue)!==void 0?Math.round(e.envHue.hue):"N/A").replace("{lcdHue}",((c=e.lcdHue)==null?void 0:c.hue)!==void 0?Math.round(e.lcdHue.hue):"N/A").replace("{logoHue}",((d=e.logoHue)==null?void 0:d.hue)!==void 0?Math.round(e.logoHue.hue):"N/A").replace("{btnHue}",((p=e.btnHue)==null?void 0:p.hue)!==void 0?Math.round(e.btnHue.hue):"N/A")}):ln[r]:`Unknown block message key: ${r||i}`;case"status":return Pr[i]&&n?Pr[i](n):`Status update from ${i}: ${JSON.stringify(n)}`;default:return`Unknown message type: ${t} from ${i}`}}let Q=null,re=null,y={},F={},x=null,O=null,_e=-1,Ut=!0,Si=!1,Pt=!1;const U=["P0_Baseline","P1_BodyFadeIn","P2_MainPwr","P3_Lens","P4_PreStartPriming","P5_AuxLightsEnergize_Dim","P6_ThemeTransitionAndFinalEnergize","P7_SystemReady","sequence_complete"],li={P0_Baseline:"P0: Baseline Setup",P1_BodyFadeIn:"P1: Body Fade-In & Attenuation",P2_MainPwr:"P2: Main Power Energized",P3_Lens:"P3: Lens Activates",P4_PreStartPriming:"P4: Pre-Start Priming (Buttons, Dials, LCDs)",P5_AuxLightsEnergize_Dim:"P5: AUX Lights Energize (Dim Env)",P6_ThemeTransitionAndFinalEnergize:"P6: Theme Transition & SCAN/HUE ASSN Energize",P7_SystemReady:"P7: System Ready",sequence_complete:"All Startup Phases Done"},xu=["body",".panel-bezel",".panel-section",".control-block",".button-unit",".button-unit .light",".button-unit .button-text","#logo-container","#logo-container svg.logo-svg","#logo-container svg.logo-svg .logo-dynamic-bg","#logo-container svg.logo-svg .logo-panel-bg-rect",".dial-canvas-container",".hue-lcd-display",".actual-lcd-screen-element","#lens-container","#color-lens",".grill-placeholder",".color-chip",".control-group-label",".block-label-bottom"];let $i=[];function X(s,e){let t,i,n=li[s]||s;if(e==="starting"){const a=U.indexOf(s);t=U[a+1]||"sequence_complete",i=li[t]||t}else{const a=U.indexOf(s);if(s==="sequence_complete")t="N/A",i="N/A";else{let o=_e;s==="Idle"&&e==="ready"?o=-1:e==="completed"&&a!==-1&&(o=a),t=U[o+1]||"sequence_complete",i=li[t]||t}!Ut&&e==="completed"&&a>_e&&(_e=a)}const r={currentPhaseName:s,status:e,nextPhaseName:t,description:n,nextPhaseDescription:i};re&&typeof re.emit=="function"?re.emit("startup:phaseChanged",r):console.error("[SSM _notifyPhaseChange] appStateService or emit method not available!")}function Ru(){var a;const s="P0_Baseline",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{X(s,"completed")}});e.call(()=>{F.terminalContainer&&Q.set(F.terminalContainer,{clearProps:"all",opacity:1,visibility:"visible"}),F.terminalContent&&Q.set(F.terminalContent,{clearProps:"all",opacity:1,visibility:"visible"}),re.emit("requestTerminalMessage",{type:"startup",source:"P0_INITIALIZING",messageKey:"P0_INITIALIZING"}),F.root.style.setProperty("--global-dim-attenuation",F.initialCssAttenuationValue||"0.3"),y.lensManager&&y.lensManager.directUpdateLensVisuals(0),y.dialManager&&y.dialManager.setDialsActiveState(!1),y.uiUpdater&&(y.uiUpdater.setLcdState(F.lcdA,"lcd--unlit"),y.uiUpdater.setLcdState(F.lcdB,"lcd--unlit"),F.terminalContainer&&y.uiUpdater.setLcdState(F.terminalContainer,"js-active-dim-lcd",{skipClassChange:!1})),y.dialManager&&y.dialManager.resizeAllCanvases(!0)});const t=(a=x.ADVANCED_FLICKER_PROFILES)==null?void 0:a.terminalP0Flicker;let i=x.MIN_PHASE_DURATION_FOR_STEPPING;if(t){const o=(t.periodStart+t.periodEnd)/2;i=Math.max(i,t.numCycles*o+.1)}const r=(Ni==null?void 0:Ni.P0_INITIALIZING).length*x.TERMINAL_TYPING_SPEED_STARTUP_MS_PER_CHAR/1e3*.75;return i=Math.max(i,r+.1),e.to({},{duration:i}),e}function Bu(s){const e="P1_BodyFadeIn",t=Q.timeline({onStart:()=>{X(e,"starting")},onComplete:()=>{X(e,"completed")}});return t.call(()=>{},null,0),t.to(F.body,{opacity:1,duration:x.BODY_FADE_IN_DURATION,ease:"power1.inOut"},"start_P1"),getComputedStyle(F.root).getPropertyValue("--global-dim-attenuation")&&t.to(s,{value:0,duration:x.ATTENUATION_DURATION,ease:"power1.inOut",onUpdate:()=>{F.root.style.setProperty("--global-dim-attenuation",s.value.toFixed(2))},onComplete:()=>{F.root.style.setProperty("--global-dim-attenuation","0.00"),s.value=0}},`start_P1+=${Math.min(.1,x.BODY_FADE_IN_DURATION*.1)}`),t}function ku(){const s="P2_MainPwr",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{X(s,"completed")}});if(e.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P2_MAIN_POWER_RESTORED",messageKey:"P2_MAIN_POWER_RESTORED"})},null,0),F.mainPwrOnButton&&F.mainPwrOffButton&&y.buttonManager){const t=y.buttonManager.playFlickerToState(F.mainPwrOnButton,G.ENERGIZED_SELECTED,{profileName:"buttonEnergizeP2P5",phaseContext:`${s}_ON_Flicker`,isButtonSelectedOverride:!0}),i=y.buttonManager.playFlickerToState(F.mainPwrOffButton,G.ENERGIZED_UNSELECTED,{profileName:"buttonEnergizeP2P5",phaseContext:`${s}_OFF_Flicker`,isButtonSelectedOverride:!1});t&&e.add(t,">0.05"),i&&e.add(i,"<")}else e.to({},{duration:x.MIN_PHASE_DURATION_FOR_STEPPING},">0.05");return e}function Gu(){const s="P3_Lens",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{X(s,"completed")}});if(e.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P3_OPTICAL_CORE_ENERGIZING",messageKey:"P3_OPTICAL_CORE_ENERGIZING"})},null,0),y.lensManager){const t=y.lensManager.energizeLensCoreStartup();e.add(t,">")}else e.to({},{duration:x.P3_LENS_RAMP_DURATION_S},">");return e}function Uu(){const s="P4_PreStartPriming",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{X(s,"completed")}});e.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P4_SECONDARY_SYSTEMS_ONLINE",messageKey:"P4_SECONDARY_SYSTEMS_ONLINE"}),y.dialManager&&y.dialManager.setDialsActiveState(!0);const n=F.logoContainer.querySelector("svg.logo-svg");n&&n.style.opacity!=="0.05"&&Q.set(n,{opacity:.05})},null,0);const t=Q.timeline(),i=[];if(F.lcdA&&i.push(F.lcdA),F.lcdB&&i.push(F.lcdB),i.forEach((n,r)=>{if(y.uiUpdater){const a=y.uiUpdater.setLcdState(n,"lcd--dimly-lit",{useP4Flicker:!0});a&&t.add(a,r*(x.P4_BUTTON_FADE_STAGGER*.5))}}),y.terminalManager&&F.terminalContainer){const n=y.terminalManager.playScreenFlickerToDimlyLit(F.terminalContainer,()=>{y.uiUpdater&&y.uiUpdater.setLcdState(F.terminalContainer,"lcd--dimly-lit",{skipClassChange:!1})});n&&t.add(n,i.length*(x.P4_BUTTON_FADE_STAGGER*.5))}if(t.duration()>0?e.add(t,">0.05"):e.to({},{duration:x.MIN_PHASE_DURATION_FOR_STEPPING},">0.05"),y.buttonManager){const n=[];if(y.buttonManager._buttons.forEach((r,a)=>{["skill-scan-group","fit-eval-group","env","lcd","logo","btn","light"].includes(r.getGroupId())&&r.getGroupId()!=="system-power"&&!r.getCurrentClasses().has("is-energized")&&!r.getCurrentClasses().has(G.DIMLY_LIT)&&n.push(a)}),n.length>0){ws(n);const r=Q.timeline();n.forEach((a,o)=>{const u=y.buttonManager._buttons.get(a);if(u){const l=y.buttonManager.playFlickerToState(a,G.DIMLY_LIT,{profileName:"buttonP4DimlyLitFlicker",phaseContext:`${s}_BtnDimlyLit_${u.getIdentifier()}`});r.add(l,o*x.P4_BUTTON_FADE_STAGGER)}}),e.add(r,`>${(x.P4_BUTTON_FADE_STAGGER||.03)*1.5}`)}else e.to({},{duration:x.MIN_PHASE_DURATION_FOR_STEPPING},">")}else e.to({},{duration:x.MIN_PHASE_DURATION_FOR_STEPPING},">");return e}function Hu(){const s="P5_AuxLightsEnergize_Dim",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{X(s,"completed")}});if(e.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P5_AUX_LIGHTS_ONLINE",messageKey:"P5_AUX_LIGHTS_ONLINE"})},null,0),y.buttonManager&&F.auxLightLowButton&&F.auxLightHighButton){const t=y.buttonManager.playFlickerToState(F.auxLightLowButton,G.ENERGIZED_SELECTED,{profileName:"buttonEnergizeP2P5",phaseContext:`${s}_LOW_Flicker`,isButtonSelectedOverride:!0}),i=y.buttonManager.playFlickerToState(F.auxLightHighButton,G.ENERGIZED_UNSELECTED,{profileName:"buttonEnergizeP2P5",phaseContext:`${s}_HIGH_Flicker`,isButtonSelectedOverride:!1});t&&e.add(t,">0.05"),i&&e.add(i,"<")}else e.to({},{duration:x.MIN_PHASE_DURATION_FOR_STEPPING},">0.05");return e}function ci(){Pt||($i.forEach(s=>{s.classList.remove("animate-on-dim-exit")}),$i=[],F.body.classList.remove("is-transitioning-from-dim"),y.uiUpdater&&y.uiUpdater.finalizeThemeTransition(),Pt=!0)}function Vu(){const s="P6_ThemeTransitionAndFinalEnergize",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{ci(),X(s,"completed")}}),t=Q.timeline();t.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P6_AMBIENT_THEME_ENGAGED",messageKey:"P6_AMBIENT_THEME_ENGAGED"}),y.uiUpdater&&y.uiUpdater.prepareLogoForFullTheme(),$i=[],xu.forEach(n=>{document.querySelectorAll(n).forEach(r=>{r.classList.add("animate-on-dim-exit"),$i.push(r)})}),F.body.classList.add("is-transitioning-from-dim"),y.uiUpdater&&(y.uiUpdater.setLcdState(F.lcdA,"active"),y.uiUpdater.setLcdState(F.lcdB,"active"),F.terminalContainer&&y.uiUpdater.setLcdState(F.terminalContainer,"active"))}).call(()=>{re.setTheme("dark")},null,`>${x.MIN_PHASE_DURATION_FOR_STEPPING*.1}`).to({},{duration:x.P6_CSS_TRANSITION_DURATION}),e.add(t,0);const i=x.MIN_PHASE_DURATION_FOR_STEPPING*.1+.1;return e.addLabel("buttonFlickerInsertionPoint",i),e.call(()=>{const n=y.buttonManager.flickerDimlyLitToEnergizedStartup({profileName:"buttonP6EnergizeFlicker",stagger:x.P6_BUTTON_ENERGIZE_FLICKER_STAGGER,phaseContext:`${s}_AllDimToEnergized`,specificGroups:["skill-scan-group","fit-eval-group","env","lcd","logo","btn"],targetThemeContext:"theme-dark"});n&&n.duration()>.01&&e.add(n,"buttonFlickerInsertionPoint")},null,i),e}function zu(){const s="P7_SystemReady",e=Q.timeline({onStart:()=>{X(s,"starting")},onComplete:()=>{Si=!1,X(s,"completed"),X("sequence_complete","completed")}});return e.call(()=>{re.emit("requestTerminalMessage",{type:"startup",source:"P7_SYSTEM_READY",messageKey:"P7_SYSTEM_READY"}),y.buttonManager&&(y.buttonManager.confirmGroupSelected("system-power",F.mainPwrOnButton),y.buttonManager.confirmGroupSelected("light",F.auxLightLowButton),Object.keys(x.DEFAULT_ASSIGNMENT_SELECTIONS).forEach(t=>{y.buttonManager.confirmGroupSelected(t,x.DEFAULT_ASSIGNMENT_SELECTIONS[t].toString())})),re.setAppStatus("interactive")},null,0).call(()=>{y.dialManager&&y.dialManager.resizeAllCanvases(!0)},null,"+=0.05").to({},{duration:x.P7_EFFECTIVE_DURATION},">"),e}function $u(s){Q=s.gsap,re=s.appState,y=s.managers,F=s.domElements,x=s.configModule,x||console.error("[StartupSequenceManager INIT] CRITICAL: configModule not provided in config!")}function qu(s){O&&O.kill(),O=Q.timeline({paused:!0,onComplete:()=>{Si&&(Si=!1),Pt||ci();let e=_e;(re.getAppStatus()==="interactive"||O.progress()===1)&&(e=U.indexOf("P7_SystemReady")),e<U.indexOf("P7_SystemReady")&&X(U[U.indexOf("P7_SystemReady")],"completed"),X("sequence_complete","completed"),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0)}}),O.addLabel(U[0]).add(Ru()).addLabel(U[1],">").add(Bu(s)).addLabel(U[2],">").add(ku()).addLabel(U[3],">").add(Gu()).addLabel(U[4],">").add(Uu()).addLabel(U[5],">").add(Hu()).addLabel(U[6],">").add(Vu()).addLabel(U[7],">").add(zu()).addLabel(U[8],">"),X(_e<0?"Idle":U[_e],"ready")}function Yu(s=!1,e){var i;Pt=!1,O&&O.pause(0).kill(),O=null,Q.killTweensOf([F.body,e]);const t=(i=F.logoContainer)==null?void 0:i.querySelector("svg.logo-svg");if(t&&Q.killTweensOf(t),re.setAppStatus("starting-up"),re.setTheme("dim"),y.buttonManager&&y.buttonManager.setInitialDimStates(),re.setTrueLensPower(0),y.lensManager&&y.lensManager.directUpdateLensVisuals(0),F.logoContainer&&y.uiUpdater){y.uiUpdater.injectLogoSVG();const n=F.logoContainer.querySelector("svg.logo-svg");n&&Q.set(n,{opacity:.05})}F.root.style.setProperty("--global-dim-attenuation",e.value.toFixed(2)),re.updateDialState("A",{hue:x.DEFAULT_DIAL_A_HUE,targetHue:x.DEFAULT_DIAL_A_HUE,rotation:0,targetRotation:0}),re.updateDialState("B",{hue:0,targetHue:0,rotation:0,targetRotation:0}),y.uiUpdater&&(y.uiUpdater.setLcdState(F.lcdA,"lcd--unlit"),y.uiUpdater.setLcdState(F.lcdB,"lcd--unlit"),F.terminalContainer&&y.uiUpdater.setLcdState(F.terminalContainer,"js-active-dim-lcd")),F.terminalContent&&(F.terminalContent.innerHTML="",y.terminalManager&&(y.terminalManager._initialMessageFlickered=!1,y.terminalManager._messageQueue=[],y.terminalManager._isTyping=!1)),Q.set(F.body,{opacity:s?1:0}),_e=-1}function $s(s=!0,e){Ut=s,Si=!Ut,Yu(Ut,e),qu(e),Ut?(O&&O.pause(0),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0)):(y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!1),Q.delayedCall(x.MIN_PHASE_DURATION_FOR_STEPPING,()=>{O&&O.restart()}))}function Wu(){if(!O){console.warn("[StartupSequenceManager Stepper] Master timeline not built. Cannot step."),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0);return}O.isActive()&&O.pause();const s=_e+1;if(U[_e]==="P6_ThemeTransitionAndFinalEnergize"&&U[s]==="P7_SystemReady"&&(Pt||ci()),s>=U.length-1){O.progress()<1?(U[_e]==="P6_ThemeTransitionAndFinalEnergize"&&!Pt&&ci(),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!1),O.play()):y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0),Ut=!1;return}const e=U[s],t=U[s+1];if(typeof O.labels[e]!="number"){console.error(`[SSM Stepper] Invalid start label or label not found: ${e}. Available labels:`,Object.keys(O.labels)),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0);return}const i=O.labels[e];let n=O.labels[t];if(typeof n!="number"&&(t==="sequence_complete"||console.warn(`[SSM Stepper] End label '${t}' not found. Using timeline duration. Available labels:`,Object.keys(O.labels)),n=O.duration()),typeof i!="number"){console.error(`[SSM Stepper] startTime for ${e} is not a number. Cannot play.`),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0);return}O.pause(i);const r=Math.max(0,n-i),a=Math.max(x.MIN_PHASE_DURATION_FOR_STEPPING||.05,r);X(e,"starting"),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!1),O.tweenFromTo(i,n,{duration:a,ease:"none",overwrite:!0,onComplete:()=>{O&&O.pause(n),_e=s,e==="P6_ThemeTransitionAndFinalEnergize"&&!Pt&&ci(),X(e,"completed"),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0)}})}function ju(s){$s(!0,s),y.debugManager&&y.debugManager.setNextPhaseButtonEnabled(!0)}function Xu(){const s=_e<0?"Idle":U[_e],e=_e+1<U.length?U[_e+1]:"None";let t="ready";return O&&O.isActive()&&!Si?t="starting":(s==="sequence_complete"||O&&O.progress()===1)&&(t="completed"),{currentPhaseName:s,status:t,description:li[s]||s,nextPhaseName:e,nextPhaseDescription:li[e]||e}}const Ku=Object.freeze(Object.defineProperty({__proto__:null,getCurrentPhaseInfo:Xu,init:$u,playNextPhase:Wu,resetSequence:ju,start:$s},Symbol.toStringTag,{value:"Module"}));let Ke=null,ee={statusDiv:null,phaseInfoDiv:null,nextPhaseButton:null,playAllButton:null,resetButton:null},bi=null;const Kt={value:.3};let qi="0.3";function qs(s){const e=document.getElementById("debug-phase-status"),t=document.getElementById("debug-phase-info");if(!e||!t){console.error("[DebugManager updatePhaseDisplay] Critical: DOM elements for status/phaseInfo not found at render time!");return}let i="",n="";!s||typeof s.status!="string"||typeof s.currentPhaseName!="string"?(console.warn("[DebugManager updatePhaseDisplay] Received incomplete or malformed phaseInfo:",s),i=e.textContent,n=t.textContent):s.currentPhaseName==="Idle"||s.status==="ready"?(i="Phase: Idle",n=`Next: ${s.nextPhaseDescription||s.nextPhaseName||"Initial Step"}`):s.currentPhaseName==="sequence_complete"?(i="Phase: All Complete",n="Sequence finished. Reset to start again."):s.status==="completed"?(i=`Done: ${s.description||s.currentPhaseName}`,n=`Next: ${s.nextPhaseDescription||s.nextPhaseName||"N/A"}`):s.status==="starting"?(i=`Running: ${s.description||s.currentPhaseName}`,n=`Awaiting completion... (Next: ${s.nextPhaseDescription||s.nextPhaseName||"N/A"})`):(i=`Phase: Error (${s.currentPhaseName||"N/A"})`,n=`Status: ${s.status||"N/A"}`);const r=e.textContent;e.textContent=i,r!==i||e.textContent;const a=t.textContent;t.textContent=n,a!==n||t.textContent}function Zu(){Ke&&Ke.playNextPhase()}function Qu(){Ke&&(Kt.value=parseFloat(qi),Ke.start(!1,Kt))}function Ju(){Ke&&(Kt.value=parseFloat(qi),Ke.resetSequence(Kt))}function el(s){qs(s)}function Ys(s){ee.nextPhaseButton&&(ee.nextPhaseButton.disabled=!s)}function tl(s){if(console.log("[DebugManager INIT] Initializing..."),!s.startupSequenceManager)throw new Error("StartupSequenceManager not provided to DebugManager.");if(!s.domElements)throw new Error("DOM elements for debug controls not provided to DebugManager.");Ke=s.startupSequenceManager,bi=s.appState,ee.statusDiv=s.domElements.debugStatusDiv,ee.phaseInfoDiv=s.domElements.debugPhaseInfoDiv,ee.nextPhaseButton=s.domElements.nextPhaseButton,ee.playAllButton=s.domElements.playAllButton,ee.resetButton=s.domElements.resetButton,ee.statusDiv||console.error("[DebugManager INIT] config.domElements.debugStatusDiv is null!"),ee.phaseInfoDiv||console.error("[DebugManager INIT] config.domElements.debugPhaseInfoDiv is null!"),qi=s.initialAttenuationValue||"0.3",Kt.value=parseFloat(qi),(!ee.statusDiv||!ee.phaseInfoDiv||!ee.nextPhaseButton||!ee.playAllButton||!ee.resetButton)&&console.warn("[DebugManager INIT] One or more core debug DOM elements are missing. Debug panel may be non-functional."),ee.nextPhaseButton&&(ee.nextPhaseButton.addEventListener("click",Zu),Ys(!0)),ee.playAllButton&&ee.playAllButton.addEventListener("click",Qu),ee.resetButton&&ee.resetButton.addEventListener("click",Ju),bi&&typeof bi.subscribe=="function"?bi.subscribe("startup:phaseChanged",el):console.warn("[DebugManager INIT] appState or its subscribe method not available. Phase updates won't be received.");const e=Ke.getCurrentPhaseInfo?Ke.getCurrentPhaseInfo():{currentPhaseName:"Idle",status:"ready",nextPhaseName:"P0_Baseline",description:"Idle",nextPhaseDescription:"P0: Baseline Setup"};return qs(e),console.log("[DebugManager INIT] Initialization complete."),{dimAttenuationProxy:Kt}}const il=Object.freeze(Object.defineProperty({__proto__:null,init:tl,setNextPhaseButtonEnabled:Ys},Symbol.toStringTag,{value:"Module"}));class nl{constructor(){this._terminalContainerElement=null,this._terminalContentElement=null,this._appState=null,this._configModule=null,this._gsap=null,this._messageQueue=[],this._isTyping=!1,this._currentLineElement=null,this._cursorElement=null,this._domInitialized=!1,this._initialMessageFlickered=!1}init(e,t,i,n,r){if(!e||!t){console.error("[TerminalManager INIT] CRITICAL: Terminal DOM elements not provided.");return}if(!i||!n||!r){console.error("[TerminalManager INIT] CRITICAL: Missing appState, configModule, or gsap service.");return}this._terminalContainerElement=e,this._terminalContentElement=t,this._appState=i,this._configModule=n,this._gsap=r,this._setupDOM(),this._appState.subscribe("requestTerminalMessage",this._handleRequestTerminalMessage.bind(this))}_setupDOM(){this._domInitialized||(this._cursorElement=document.createElement("span"),this._cursorElement.className="terminal-cursor",this._cursorElement.textContent="▋",this._cursorElement.style.visibility="hidden",this._terminalContentElement.innerHTML="",this._domInitialized=!0)}_handleRequestTerminalMessage(e){if(!e)return;let t={};e.messageKey==="BTN4_MESSAGE"&&(t={theme:this._appState.getCurrentTheme(),lensPower:this._appState.getTrueLensPower(),dialA:this._appState.getDialState("A"),dialB:this._appState.getDialState("B"),envHue:this._appState.getTargetColorProperties("env"),lcdHue:this._appState.getTargetColorProperties("lcd"),logoHue:this._appState.getTargetColorProperties("logo"),btnHue:this._appState.getTargetColorProperties("btn")});const i=wu(e,t,this._configModule),n={...e,content:Array.isArray(i)?i:[i],linesTyped:0};this._messageQueue.push(n),this._isTyping||this._processQueue()}async _processQueue(){if(this._messageQueue.length===0){this._isTyping=!1;return}if(this._isTyping&&this._messageQueue.length>0)return;this._isTyping=!0;const e=this._messageQueue.shift(),t=Math.random()*(this._configModule.TERMINAL_NEW_LINE_DELAY_MAX_MS-this._configModule.TERMINAL_NEW_LINE_DELAY_MIN_MS)+this._configModule.TERMINAL_NEW_LINE_DELAY_MIN_MS;await new Promise(i=>setTimeout(i,t));for(let i=0;i<e.content.length;i++){const n=e.content[i];this._addNewLineAndPrepareForTyping(),e.source==="P0_INITIALIZING"&&!this._initialMessageFlickered&&this._currentLineElement?(this._currentLineElement.appendChild(this._cursorElement),this._showCursor(),await this.playInitialTextFlicker(this._currentLineElement,n).then(),this._initialMessageFlickered=!0):(this._showCursor(),await this._typeLine(n,e.type)),i<e.content.length-1&&await new Promise(r=>setTimeout(r,this._configModule.TERMINAL_NEW_LINE_DELAY_MIN_MS/2))}this._hideCursor(),this._isTyping=!1,this._processQueue()}_addNewLineAndPrepareForTyping(){this._currentLineElement=document.createElement("div"),this._currentLineElement.className="terminal-line",this._terminalContentElement.appendChild(this._currentLineElement),this._scrollTerminal(),this._limitMaxLines()}_typeLine(e,t="status"){return new Promise(i=>{if(!this._currentLineElement){console.error("[TerminalManager _typeLine] _currentLineElement is null. Cannot type."),i();return}let n;switch(t){case"block":n=this._configModule.TERMINAL_TYPING_SPEED_BLOCK_MS_PER_CHAR;break;case"startup":n=this._configModule.TERMINAL_TYPING_SPEED_STARTUP_MS_PER_CHAR;break;case"status":default:n=this._configModule.TERMINAL_TYPING_SPEED_STATUS_MS_PER_CHAR;break}const r=e.length*n/1e3;this._currentLineElement.appendChild(this._cursorElement),this._gsap.to(this._currentLineElement,{duration:Math.max(.1,r),text:{value:e,delimiter:""},ease:"none",onUpdate:()=>{this._currentLineElement&&this._cursorElement&&this._cursorElement.parentElement!==this._currentLineElement&&this._currentLineElement.appendChild(this._cursorElement)},onComplete:()=>{this._currentLineElement&&this._cursorElement&&this._cursorElement.parentElement!==this._currentLineElement&&this._currentLineElement.appendChild(this._cursorElement),i()}})})}_scrollTerminal(){const e=this._terminalContentElement.parentElement.classList.contains("terminal-block")?this._terminalContentElement:this._terminalContentElement.parentElement;e&&(e.scrollTop=e.scrollHeight)}_limitMaxLines(){for(;this._terminalContentElement.childElementCount>this._configModule.TERMINAL_MAX_LINES_IN_DOM&&this._terminalContentElement.firstChild;)this._terminalContentElement.removeChild(this._terminalContentElement.firstChild)}_showCursor(){this._cursorElement&&this._currentLineElement&&(this._cursorElement.parentElement!==this._currentLineElement&&this._currentLineElement.appendChild(this._cursorElement),this._cursorElement.style.visibility="visible")}_hideCursor(){this._cursorElement&&(this._cursorElement.style.visibility="hidden")}playInitialTextFlicker(e,t){if(!e)return this._gsap.timeline().to({},{duration:.01});const i=this._gsap.timeline();i.call(()=>{e.textContent="",e.appendChild(this._cursorElement)});const n=mi(e,"terminalP0Flicker",{});i.add(n);const r={duration:t.length*this._configModule.TERMINAL_TYPING_SPEED_STARTUP_MS_PER_CHAR/1e3*.75,text:{value:t,delimiter:""},ease:"none",onUpdate:()=>{e&&this._cursorElement&&this._cursorElement.parentElement!==e&&e.appendChild(this._cursorElement)},onComplete:()=>{e&&this._cursorElement&&this._cursorElement.parentElement!==e&&e.appendChild(this._cursorElement)}};return i.to(e,r,i.duration()*.25),i}playScreenFlickerToDimlyLit(e,t){if(console.trace("[TerminalManager playScreenFlickerToDimlyLit] TRACE"),!e){const r=this._gsap.timeline();return t&&r.eventCallback("onComplete",t),r.to({},{duration:.01})}const i=this._gsap.timeline(),n=mi(e,"lcdP4Flicker",{onComplete:()=>{t&&t()}});return i.add(n),i}}const rl=new nl;xe.registerPlugin(Ci);console.log("[Main] GSAP and TextPlugin imported and registered via ES Modules.");console.log("[Main] HUE 9000 Interface: main.js (REFACTOR-V2.3) loaded.");let b={body:null,root:null,logoContainer:null,mainPwrOnButton:null,mainPwrOffButton:null,auxLightLowButton:null,auxLightHighButton:null,dialContainers:null,colorLensGradientElement:null,scanButton1Element:null,scanButton2Element:null,scanButton3Element:null,scanButton4Element:null,debugStatusDiv:null,debugPhaseInfoDiv:null,nextPhaseButton:null,playAllButton:null,resetButton:null,lcdA:null,lcdB:null,terminalContainer:null,terminalContent:null,initialCssAttenuationValue:"0.3"};const J={buttonManager:ou,dialManager:hu,gridManager:pu,toggleManager:_u,uiUpdater:bu,lensManager:Ou,startupSequenceManager:Ku,debugManager:il,terminalManager:rl};function br(){var l,c,d,p;console.log("[Main AppInit] Initializing application..."),b.body=document.body,b.root=document.documentElement,b.logoContainer=document.getElementById("logo-container"),b.mainPwrOnButton=document.querySelector('.on-off-group-container .button-unit[data-toggle-value="on"]'),b.mainPwrOffButton=document.querySelector('.on-off-group-container .button-unit[data-toggle-value="off"]'),b.auxLightLowButton=document.querySelector('.light-mode-group-container .button-unit[data-toggle-value="off"]'),b.auxLightHighButton=document.querySelector('.light-mode-group-container .button-unit[data-toggle-value="on"]'),b.dialContainers=document.querySelectorAll(".dial-canvas-container"),b.colorLensGradientElement=document.getElementById("color-lens-gradient");const s=document.querySelector(".scan-button-block.joined-block-pair__item--left"),e=document.querySelector(".scan-button-block.joined-block-pair__item--right");s&&(b.scanButton1Element=s.children[0],b.scanButton2Element=s.children[1]),e&&(b.scanButton3Element=e.children[0],b.scanButton4Element=e.children[1]),window.scanButton1ElementForDebug=b.scanButton1Element,b.debugStatusDiv=document.getElementById("debug-phase-status"),b.debugPhaseInfoDiv=document.getElementById("debug-phase-info"),b.nextPhaseButton=document.getElementById("btn-next-phase"),b.playAllButton=document.getElementById("btn-play-all"),b.resetButton=document.getElementById("btn-reset-startup-debug"),b.lcdA=document.getElementById("hue-lcd-A"),b.lcdB=document.getElementById("hue-lcd-B"),b.terminalContainer=document.querySelector(".control-block.terminal-block .actual-lcd-screen-element"),b.terminalContent=document.getElementById("terminal-lcd-content");try{b.initialCssAttenuationValue=getComputedStyle(b.root).getPropertyValue("--global-dim-attenuation").trim()||"0.3"}catch(f){console.warn("[Main AppInit] Could not read --global-dim-attenuation from CSS. Using default.",f),b.initialCssAttenuationValue="0.3"}Rs("loading"),J.uiUpdater.init({root:b.root,body:b.body,logoContainer:b.logoContainer,lcdA:b.lcdA,lcdB:b.lcdB,terminalLcdContentElement:b.terminalContent},ti,xe);const t=Array.from(document.querySelectorAll(".button-unit"));J.buttonManager.init(t,xe);const i=document.querySelectorAll(".hue-assignment-block .hue-assignment-column[data-assignment-target]");J.gridManager.init(Array.from(i),J.buttonManager);const n=Array.from(document.querySelectorAll(".top-toggle-bar .button-unit--toggle"));J.toggleManager.init(n,J.buttonManager),b.dialContainers&&J.dialManager.init(Array.from(b.dialContainers),Pi,ti,xe),b.root&&b.colorLensGradientElement?J.lensManager.init(b.root,b.colorLensGradientElement,ti,xe):console.error("[Main AppInit] Critical elements for Lens Manager not found."),b.terminalContainer&&b.terminalContent?J.terminalManager.init(b.terminalContainer,b.terminalContent,Pi,ti,xe):console.error("[Main AppInit] Critical elements for Terminal Manager not found. Container:",b.terminalContainer,"Content:",b.terminalContent);const r={[(l=b.scanButton1Element)==null?void 0:l.ariaLabel]:"BTN1_MESSAGE",[(c=b.scanButton2Element)==null?void 0:c.ariaLabel]:"BTN2_MESSAGE",[(d=b.scanButton3Element)==null?void 0:d.ariaLabel]:"BTN3_MESSAGE",[(p=b.scanButton4Element)==null?void 0:p.ariaLabel]:"BTN4_MESSAGE"};[b.scanButton1Element,b.scanButton2Element,b.scanButton3Element,b.scanButton4Element].forEach(f=>{f&&f.addEventListener("click",()=>{if(R()!=="interactive"){console.log(`[Main BTN Click] Interaction blocked for ${f.ariaLabel}, app not interactive.`);return}const g=r[f.ariaLabel];g&&(console.log(`[Main BTN Click] Emitting terminal message for ${f.ariaLabel}, Key: ${g}`),dt("requestTerminalMessage",{type:"block",source:f.ariaLabel||"UnknownScanButton",messageKey:g}))})}),J.startupSequenceManager.init({gsap:xe,appState:Pi,managers:{buttonManager:J.buttonManager,lensManager:J.lensManager,dialManager:J.dialManager,uiUpdater:J.uiUpdater,terminalManager:J.terminalManager,debugManager:J.debugManager},domElements:{body:b.body,root:b.root,logoContainer:b.logoContainer,mainPwrOnButton:b.mainPwrOnButton,mainPwrOffButton:b.mainPwrOffButton,auxLightLowButton:b.auxLightLowButton,auxLightHighButton:b.auxLightHighButton,initialCssAttenuationValue:b.initialCssAttenuationValue,lcdA:b.lcdA,lcdB:b.lcdB,terminalContainer:b.terminalContainer,terminalContent:b.terminalContent},configModule:ti});const a=J.debugManager.init({startupSequenceManager:J.startupSequenceManager,domElements:{debugStatusDiv:b.debugStatusDiv,debugPhaseInfoDiv:b.debugPhaseInfoDiv,nextPhaseButton:b.nextPhaseButton,playAllButton:b.playAllButton,resetButton:b.resetButton},appState:Pi,initialAttenuationValue:b.initialCssAttenuationValue});J.startupSequenceManager.start(!0,a.dimAttenuationProxy);const u=Os(()=>{J.dialManager.resizeAllCanvases(!1)},Ls);window.addEventListener("resize",u),console.log("[Main AppInit] Application initialization sequence complete.")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",br):br();
